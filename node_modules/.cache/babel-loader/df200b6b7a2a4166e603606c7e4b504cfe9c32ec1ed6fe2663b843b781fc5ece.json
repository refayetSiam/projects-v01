{"ast":null,"code":"import React,{useState,useEffect}from'react';import{DollarSign,Plus,Filter,Search,Eye,Edit,Trash2,BarChart3,Clock,CheckCircle,AlertCircle,XCircle,Pause,TreePine,Archive,Users,ChevronRight,ChevronDown,X,FolderOpen,Folder,File}from'lucide-react';import{loadAllData}from'./utils/csvLoader';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProjectsActionsModule=()=>{const[currentView,setCurrentView]=useState('projects');const[projectsTab,setProjectsTab]=useState('all');const[projectDetailTab,setProjectDetailTab]=useState('project');const[projects,setProjects]=useState([]);const[assets,setAssets]=useState([]);const[assetTypes,setAssetTypes]=useState({});const[costDatabase,setCostDatabase]=useState({});const[teams,setTeams]=useState([]);const[regions,setRegions]=useState([]);const[archives,setArchives]=useState({projects:[],actions:[]});const[auditTrail,setAuditTrail]=useState([]);const[selectedProject,setSelectedProject]=useState(null);const[showActionModal,setShowActionModal]=useState(false);const[showBulkActionModal,setShowBulkActionModal]=useState(false);const[showProjectModal,setShowProjectModal]=useState(false);const[showActionSelector,setShowActionSelector]=useState(false);const[editingAction,setEditingAction]=useState(null);const[editingProject,setEditingProject]=useState(null);const[searchTerm,setSearchTerm]=useState('');const[assetSearchTerm,setAssetSearchTerm]=useState('');const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);const[filters,setFilters]=useState({projectType:'',status:'',region:'',assetClass:'',team:''});// Tree view state\nconst[expandedNodes,setExpandedNodes]=useState(new Set(['Trees','Wetlands','Grass']));// Action selector state\nconst[selectorState,setSelectorState]=useState({selectedAssetClass:'',selectedAssetType:'',selectedAction:'',breadcrumbs:[],expandedNodes:new Set()});// Action preview state\nconst[previewAction,setPreviewAction]=useState(null);// Load data on component mount\nuseEffect(()=>{const loadData=async()=>{try{setIsLoading(true);const data=await loadAllData();setAssetTypes(data.assetTypes);setCostDatabase(data.costDatabase);setAssets(data.assets);setProjects(data.projects);setAuditTrail(data.auditTrail);setTeams(data.teams);setRegions(data.regions);setError(null);}catch(err){setError('Failed to load data. Please check if the CSV files are accessible.');console.error('Error loading data:',err);}finally{setIsLoading(false);}};loadData();},[]);// Action modal state\nconst[actionForm,setActionForm]=useState({assetId:'',actionPath:'',actionDetails:null,recurrence:false,recurrenceValue:1,recurrenceUnit:'years',nextDue:'',overrideDate:'',assetPercentage:100,modeledCost:0,overrideCost:''});// Bulk action modal state\nconst[bulkActionForm,setBulkActionForm]=useState({region:'',assetType:'',actionPath:'',actionDetails:null,recurrence:false,recurrenceValue:1,recurrenceUnit:'years',nextDue:'',overrideDate:'',assetPercentage:100,overrideCost:''});// Project modal state\nconst[projectForm,setProjectForm]=useState({name:'',description:'',status:'Planning',startDate:'',endDate:'',team:'',region:''});// Generate project ID\nconst generateProjectId=()=>{const year=new Date().getFullYear();const existingCount=projects.filter(p=>p.projectId.includes(`PROJ-${year}`)).length;return`PROJ-${year}-${String(existingCount+1).padStart(3,'0')}`;};// Generate recurring actions for 10-year plan\nconst generateRecurringActions=(baseAction,project)=>{if(!baseAction.recurrence)return[baseAction];const actions=[baseAction];const startDate=new Date(baseAction.nextDue);const currentYear=new Date().getFullYear();for(let year=startDate.getFullYear()+baseAction.recurrenceValue;year<=currentYear+10;year+=baseAction.recurrenceValue){const recurringDate=new Date(startDate);recurringDate.setFullYear(year);const recurringAction={...baseAction,id:Date.now()+Math.random(),name:generateActionName(baseAction.actionPath.split(' > ').pop(),baseAction.assetId,recurringDate.toISOString().split('T')[0],null,true),nextDue:recurringDate.toISOString().split('T')[0],status:'Open',completedDate:undefined,createdDate:new Date().toISOString()};actions.push(recurringAction);}return actions;};// Calculate project completion\nconst calculateProjectCompletion=project=>{const totalCost=project.actions.reduce((sum,action)=>sum+action.cost,0);const completedCost=project.actions.filter(action=>action.status==='Completed').reduce((sum,action)=>sum+action.cost,0);return totalCost>0?Math.round(completedCost/totalCost*100):0;};// Update project completions\nuseEffect(()=>{setProjects(prev=>prev.map(project=>({...project,completion:calculateProjectCompletion(project)})));},[]);const addAuditEntry=function(entityType,entityId,field,oldValue,newValue){let changedBy=arguments.length>5&&arguments[5]!==undefined?arguments[5]:'current_user';const newEntry={id:Date.now(),entityType,entityId,field,oldValue,newValue,changedBy,changedDate:new Date().toISOString()};setAuditTrail(prev=>[newEntry,...prev]);};const calculateModeledCost=(assetId,actionDetails,percentage)=>{const asset=assets.find(a=>a.id===assetId);if(!asset||!actionDetails||!percentage)return 0;return Math.round(asset.size*(percentage/100)*actionDetails.cost);};const getStatusIcon=status=>{switch(status){case'Completed':return/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4 text-green-600\"});case'In Progress':return/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4 text-blue-600\"});case'Open':return/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4 text-yellow-600\"});case'Cancelled':return/*#__PURE__*/_jsx(XCircle,{className:\"w-4 h-4 text-red-600\"});case'Planning':return/*#__PURE__*/_jsx(Pause,{className:\"w-4 h-4 text-blue-500\"});case'Archived':return/*#__PURE__*/_jsx(Archive,{className:\"w-4 h-4 text-gray-600\"});default:return/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4 text-gray-600\"});}};const getStatusBadge=status=>{const baseClasses=\"px-2 py-1 text-xs font-medium rounded\";switch(status){case'Completed':return`${baseClasses} bg-green-100 text-green-800`;case'In Progress':return`${baseClasses} bg-blue-100 text-blue-800`;case'Open':return`${baseClasses} bg-yellow-100 text-yellow-800`;case'Cancelled':return`${baseClasses} bg-red-100 text-red-800`;case'Planning':return`${baseClasses} bg-orange-100 text-orange-800`;case'Archived':return`${baseClasses} bg-gray-100 text-gray-800`;default:return`${baseClasses} bg-gray-100 text-gray-800`;}};const generateActionName=(actionType,assetId,nextDue,overrideDate,recurrence)=>{if(!actionType||!assetId)return'';let name=`${actionType} - ${assetId}`;if(recurrence&&(overrideDate||nextDue)){const date=new Date(overrideDate||nextDue);const monthNames=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];const month=monthNames[date.getMonth()];const year=date.getFullYear();name+=` - ${month} ${year}`;}return name;};const filteredProjects=projects.filter(project=>{if(projectsTab==='archived'&&project.status!=='Archived')return false;if(projectsTab==='all'&&project.status==='Archived')return false;const matchesSearch=!searchTerm||project.name.toLowerCase().includes(searchTerm.toLowerCase())||project.description.toLowerCase().includes(searchTerm.toLowerCase())||project.region.toLowerCase().includes(searchTerm.toLowerCase());const matchesFilters=(!filters.status||project.status===filters.status)&&(!filters.team||project.team===filters.team)&&(!filters.region||project.region===filters.region);return matchesSearch&&matchesFilters;});const filteredAssets=function(){let searchTerm=arguments.length>0&&arguments[0]!==undefined?arguments[0]:assetSearchTerm;if(!searchTerm)return assets;return assets.filter(asset=>asset.id.toLowerCase().includes(searchTerm.toLowerCase())||asset.name.toLowerCase().includes(searchTerm.toLowerCase())||assetTypes[asset.type].name.toLowerCase().includes(searchTerm.toLowerCase())||asset.region.toLowerCase().includes(searchTerm.toLowerCase()));};const downloadActionsCSV=()=>{const csvData=[];projects.forEach(project=>{project.actions.forEach(action=>{const asset=assets.find(a=>a.id===action.assetId);const assetConfig=assetTypes[asset===null||asset===void 0?void 0:asset.type];const actionYear=new Date(action.overrideDate||action.nextDue||action.completedDate||'').getFullYear();csvData.push({'Project Name':project.name,'Project ID':project.projectId,'Region Name':project.region,'Asset Class':(assetConfig===null||assetConfig===void 0?void 0:assetConfig.assetClass)||'','Asset Name':(asset===null||asset===void 0?void 0:asset.name)||'','Asset Size':(asset===null||asset===void 0?void 0:asset.size)||'','Action Name':action.name,'Action Cost':action.cost,'Action Year':actionYear||'','Status':action.status,'Due Date':action.overrideDate||action.nextDue||'','Completed Date':action.completedDate||''});});});const csv=[Object.keys(csvData[0]).join(','),...csvData.map(row=>Object.values(row).map(value=>`\"${value}\"`).join(','))].join('\\n');const blob=new Blob([csv],{type:'text/csv'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='actions-list-export.csv';a.click();window.URL.revokeObjectURL(url);};const openProjectModal=function(){let project=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(project){setEditingProject(project);setProjectForm({name:project.name,description:project.description,status:project.status,startDate:project.startDate,endDate:project.endDate,team:project.team,region:project.region});}else{setEditingProject(null);setProjectForm({name:'',description:'',status:'Planning',startDate:'',endDate:'',team:'',region:''});}setShowProjectModal(true);};const saveProject=()=>{const newProject={id:editingProject?editingProject.id:Date.now(),projectId:editingProject?editingProject.projectId:generateProjectId(),...projectForm,completion:editingProject?editingProject.completion:0,actions:editingProject?editingProject.actions:[],createdBy:editingProject?editingProject.createdBy:'current_user',createdDate:editingProject?editingProject.createdDate:new Date().toISOString(),lastModified:new Date().toISOString()};if(editingProject){Object.keys(projectForm).forEach(field=>{if(editingProject[field]!==projectForm[field]){addAuditEntry('Project',editingProject.id,field,editingProject[field],projectForm[field]);}});setProjects(prev=>prev.map(p=>p.id===editingProject.id?newProject:p));if(selectedProject&&selectedProject.id===editingProject.id){setSelectedProject(newProject);}}else{setProjects(prev=>[...prev,newProject]);}setShowProjectModal(false);};const openActionModal=function(){let action=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(action){setEditingAction(action);setActionForm({assetId:action.assetId,actionPath:action.actionPath,actionDetails:null,recurrence:action.recurrence||false,recurrenceValue:action.recurrenceValue||1,recurrenceUnit:action.recurrenceUnit||'years',nextDue:action.nextDue||'',overrideDate:action.overrideDate||'',assetPercentage:action.assetPercentage||100,modeledCost:action.modeledCost||0,overrideCost:action.overrideCost||''});}else{setEditingAction(null);setActionForm({assetId:'',actionPath:'',actionDetails:null,recurrence:false,recurrenceValue:1,recurrenceUnit:'years',nextDue:'',overrideDate:'',assetPercentage:100,modeledCost:0,overrideCost:''});}setAssetSearchTerm('');setShowActionModal(true);};const toggleNode=nodePath=>{setExpandedNodes(prev=>{const newSet=new Set(prev);if(newSet.has(nodePath)){newSet.delete(nodePath);}else{newSet.add(nodePath);}return newSet;});};const previewActionFromTree=(actionPath,actionDetails,actionName)=>{setPreviewAction({path:actionPath,details:actionDetails,name:actionName});};const selectActionFromTree=(actionPath,actionDetails)=>{// Update the appropriate form based on which modal is open\nif(showBulkActionModal){setBulkActionForm(prev=>({...prev,actionPath:actionPath,actionDetails:actionDetails}));}else{setActionForm(prev=>({...prev,actionPath:actionPath,actionDetails:actionDetails}));}setShowActionSelector(false);setPreviewAction(null);};// Update modeled cost when form changes\nuseEffect(()=>{if(actionForm.assetId&&actionForm.actionDetails&&actionForm.assetPercentage){const modeledCost=calculateModeledCost(actionForm.assetId,actionForm.actionDetails,actionForm.assetPercentage);setActionForm(prev=>({...prev,modeledCost}));}},[actionForm.assetId,actionForm.actionDetails,actionForm.assetPercentage,assets]);const saveAction=()=>{const actionName=generateActionName(actionForm.actionPath.split(' > ').pop(),actionForm.assetId,actionForm.nextDue,actionForm.overrideDate,actionForm.recurrence);const finalCost=actionForm.overrideCost?parseInt(actionForm.overrideCost):actionForm.modeledCost;const baseAction={id:editingAction?editingAction.id:Date.now(),name:actionName,assetId:actionForm.assetId,actionPath:actionForm.actionPath,status:editingAction?editingAction.status:'Open',nextDue:actionForm.nextDue,overrideDate:actionForm.overrideDate||null,recurrence:actionForm.recurrence,recurrenceValue:actionForm.recurrence?actionForm.recurrenceValue:null,recurrenceUnit:actionForm.recurrence?actionForm.recurrenceUnit:null,assetPercentage:actionForm.assetPercentage,modeledCost:actionForm.modeledCost,overrideCost:actionForm.overrideCost?parseInt(actionForm.overrideCost):null,cost:finalCost,createdBy:editingAction?editingAction.createdBy:'current_user',createdDate:editingAction?editingAction.createdDate:new Date().toISOString(),...((editingAction===null||editingAction===void 0?void 0:editingAction.completedDate)&&{completedDate:editingAction.completedDate})};// Generate recurring actions if applicable\nconst allActions=generateRecurringActions(baseAction,selectedProject);if(editingAction){Object.keys(actionForm).forEach(field=>{if(editingAction[field]!==actionForm[field]){addAuditEntry('Action',editingAction.id,field,editingAction[field],actionForm[field]);}});}const updatedProject={...selectedProject,actions:editingAction?selectedProject.actions.map(a=>a.id===editingAction.id?baseAction:a):[...selectedProject.actions,...allActions],lastModified:new Date().toISOString()};updatedProject.completion=calculateProjectCompletion(updatedProject);setSelectedProject(updatedProject);setProjects(prev=>prev.map(p=>p.id===selectedProject.id?updatedProject:p));setShowActionModal(false);};const updateActionStatus=(actionId,newStatus)=>{const action=selectedProject.actions.find(a=>a.id===actionId);const oldStatus=action.status;let updatedAction={...action,status:newStatus,...(newStatus==='Completed'&&{completedDate:new Date().toISOString().split('T')[0]})};if(newStatus==='Completed'||newStatus==='Archived'){setArchives(prev=>({...prev,actions:[...prev.actions,{...updatedAction,archivedDate:new Date().toISOString(),archivedBy:'current_user'}]}));}const updatedProject={...selectedProject,actions:selectedProject.actions.map(a=>a.id===actionId?updatedAction:a),lastModified:new Date().toISOString()};updatedProject.completion=calculateProjectCompletion(updatedProject);setSelectedProject(updatedProject);setProjects(prev=>prev.map(p=>p.id===selectedProject.id?updatedProject:p));addAuditEntry('Action',actionId,'status',oldStatus,newStatus);};const deleteAction=actionId=>{if(window.confirm('Are you sure you want to delete this action? This action cannot be undone.')){const action=selectedProject.actions.find(a=>a.id===actionId);if(action){setArchives(prev=>({...prev,actions:[...prev.actions,{...action,deletedDate:new Date().toISOString(),deletedBy:'current_user'}]}));const updatedProject={...selectedProject,actions:selectedProject.actions.filter(a=>a.id!==actionId),lastModified:new Date().toISOString()};updatedProject.completion=calculateProjectCompletion(updatedProject);setSelectedProject(updatedProject);setProjects(prev=>prev.map(p=>p.id===selectedProject.id?updatedProject:p));addAuditEntry('Action',actionId,'status',action.status,'Deleted');}}};const renderSidebar=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"w-64 bg-white border-r border-gray-200 h-screen flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center p-4 border-b border-gray-200\",style:{backgroundColor:'#5B6ACD'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 bg-white rounded flex items-center justify-center\",children:/*#__PURE__*/_jsx(BarChart3,{className:\"w-4 h-4\",style:{color:'#5B6ACD'}})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-semibold text-lg\",children:\"NOVION\"})]})}),/*#__PURE__*/_jsx(\"nav\",{className:\"flex-1 px-4 py-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setCurrentView('assets'),className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg cursor-pointer ${currentView==='assets'?'bg-blue-50 text-blue-700':'text-gray-700 hover:bg-gray-100'}`,children:[/*#__PURE__*/_jsx(TreePine,{className:\"w-4 h-4 mr-3\"}),\"Assets\"]}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setCurrentView('projects'),className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg cursor-pointer ${currentView==='projects'?'bg-blue-50 text-blue-700':'text-gray-700 hover:bg-gray-100'}`,children:[/*#__PURE__*/_jsx(Folder,{className:\"w-4 h-4 mr-3\"}),\"Projects\"]}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setCurrentView('reporting'),className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg cursor-pointer ${currentView==='reporting'?'bg-blue-50 text-blue-700':'text-gray-700 hover:bg-gray-100'}`,children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-4 h-4 mr-3\"}),\"Reporting\"]}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setCurrentView('capital-plan'),className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg cursor-pointer ${currentView==='capital-plan'?'bg-blue-50 text-blue-700':'text-gray-700 hover:bg-gray-100'}`,children:[/*#__PURE__*/_jsx(DollarSign,{className:\"w-4 h-4 mr-3\"}),\"Capital Plan\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg w-full\",children:[/*#__PURE__*/_jsx(Archive,{className:\"w-4 h-4 mr-3\"}),\"Sign Out\"]})})]});const renderActionSelector=()=>/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg w-full max-w-4xl mx-4 h-[80vh] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-6 border-b\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Select Action\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowActionSelector(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1/2 border-r overflow-y-auto p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:Object.entries(costDatabase).map(_ref=>{let[assetClass,assetTypesObj]=_ref;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>toggleNode(assetClass),className:\"flex items-center py-2 px-2 hover:bg-gray-50 rounded cursor-pointer\",children:[expandedNodes.has(assetClass)?/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4 text-gray-500 mr-1\"}):/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4 text-gray-500 mr-1\"}),/*#__PURE__*/_jsx(FolderOpen,{className:\"w-4 h-4 text-blue-500 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-900\",children:assetClass})]}),expandedNodes.has(assetClass)&&/*#__PURE__*/_jsx(\"div\",{className:\"ml-6 space-y-1\",children:Object.entries(assetTypesObj).map(_ref2=>{let[assetType,actions]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>toggleNode(`${assetClass}/${assetType}`),className:\"flex items-center py-2 px-2 hover:bg-gray-50 rounded cursor-pointer\",children:[expandedNodes.has(`${assetClass}/${assetType}`)?/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4 text-gray-500 mr-1\"}):/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4 text-gray-500 mr-1\"}),/*#__PURE__*/_jsx(Folder,{className:\"w-4 h-4 text-gray-500 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:assetType})]}),expandedNodes.has(`${assetClass}/${assetType}`)&&/*#__PURE__*/_jsx(\"div\",{className:\"ml-6 space-y-1\",children:Object.entries(actions).map(_ref3=>{let[actionName,actionDetails]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{onClick:()=>previewActionFromTree(`${assetClass} > ${assetType} > ${actionName}`,actionDetails,actionName),className:`flex items-center py-2 px-2 hover:bg-blue-50 rounded cursor-pointer ${(previewAction===null||previewAction===void 0?void 0:previewAction.name)===actionName?'bg-blue-100':''}`,children:[/*#__PURE__*/_jsx(File,{className:\"w-4 h-4 text-gray-400 mr-2 ml-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:actionName})]},actionName);})})]},assetType);})})]},assetClass);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1/2 p-6 bg-gray-50\",children:previewAction?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-4\",children:previewAction.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500 mb-1\",children:\"DESCRIPTION\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:previewAction.details.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500 mb-1\",children:\"COST\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-900\",children:[\"$\",previewAction.details.cost]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500 mb-1\",children:\"UNIT\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:previewAction.details.unit})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500 mb-1\",children:\"LIFECYCLE\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:previewAction.details.lifecycle})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-4\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>selectActionFromTree(previewAction.path,previewAction.details),className:\"w-full px-4 py-3 text-white rounded-lg flex items-center justify-center gap-2 hover:opacity-90\",style:{backgroundColor:'#5B6ACD'},children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),\"Add Action\"]})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-500 mt-20\",children:[/*#__PURE__*/_jsx(TreePine,{className:\"w-16 h-16 mx-auto text-gray-300 mb-4\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Select an action from the tree to view details\"})]})})]})]})});const renderProjectsList=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-6 py-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Projects\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>openProjectModal(),className:\"px-4 py-2 text-white rounded-lg flex items-center gap-2\",style:{backgroundColor:'#5B6ACD'},children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),\"CREATE\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex space-x-8 px-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setProjectsTab('all'),className:`py-4 px-1 border-b-2 font-medium text-sm ${projectsTab==='all'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,children:\"ALL\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setProjectsTab('archived'),className:`py-4 px-1 border-b-2 font-medium text-sm ${projectsTab==='archived'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,children:\"ARCHIVED\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 bg-white border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-4\",children:[/*#__PURE__*/_jsx(Filter,{className:\"w-4 h-4 text-gray-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Filters\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-5 gap-4\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"px-3 py-2 border border-gray-300 rounded text-sm\",value:filters.status,onChange:e=>setFilters(prev=>({...prev,status:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Statuses\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Planning\",children:\"Planning\"}),/*#__PURE__*/_jsx(\"option\",{value:\"In Progress\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Completed\",children:\"Completed\"})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"px-3 py-2 border border-gray-300 rounded text-sm\",value:filters.region,onChange:e=>setFilters(prev=>({...prev,region:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Regions\"}),regions.map(region=>/*#__PURE__*/_jsx(\"option\",{value:region,children:region},region))]}),/*#__PURE__*/_jsxs(\"select\",{className:\"px-3 py-2 border border-gray-300 rounded text-sm\",value:filters.team,onChange:e=>setFilters(prev=>({...prev,team:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Teams\"}),teams.map(team=>/*#__PURE__*/_jsx(\"option\",{value:team,children:team},team))]}),/*#__PURE__*/_jsxs(\"select\",{className:\"px-3 py-2 border border-gray-300 rounded text-sm\",value:filters.assetClass,onChange:e=>setFilters(prev=>({...prev,assetClass:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Asset Classes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Trees\",children:\"Trees\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Wetlands\",children:\"Wetlands\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Grass\",children:\"Grass\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search projects...\",className:\"pl-10 pr-3 py-2 border border-gray-300 rounded text-sm w-full\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"PROJECT NAME\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"PROJECT ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"STATUS\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"REGION\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"TOTAL CAPITAL COST\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"COMPLETION\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"TEAM\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:filteredProjects.map(project=>{const totalBudget=project.actions.reduce((sum,action)=>sum+action.cost,0);return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"div\",{onClick:()=>{setSelectedProject(project);setCurrentView('project-detail');},className:\"text-sm font-medium text-blue-600 hover:text-blue-800 cursor-pointer\",children:project.name})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:project.projectId}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"span\",{className:getStatusBadge(project.status),children:project.status})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:project.region}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:[\"$\",totalBudget.toLocaleString()]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:[project.completion,\"%\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:project.team}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>openProjectModal(project),className:\"text-gray-600 hover:text-gray-800\",title:\"Edit Project\",children:/*#__PURE__*/_jsx(Edit,{className:\"w-4 h-4\"})})})})]},project.id);})})]})})]});const renderProjectDetail=()=>{const activeActions=selectedProject.actions.filter(action=>action.status!=='Completed'&&action.status!=='Archived');const archivedActions=selectedProject.actions.filter(action=>action.status==='Completed'||action.status==='Archived');return/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between px-6 py-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('projects'),className:\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200\",children:\"\\u2190 Back to Projects\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:selectedProject===null||selectedProject===void 0?void 0:selectedProject.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4\"}),\"View\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>openProjectModal(selectedProject),className:\"px-4 py-2 text-white rounded-lg flex items-center gap-2\",style:{backgroundColor:'#5B6ACD'},children:[/*#__PURE__*/_jsx(Edit,{className:\"w-4 h-4\"}),\"Edit\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex space-x-8 px-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setProjectDetailTab('project'),className:`py-4 px-1 border-b-2 font-medium text-sm ${projectDetailTab==='project'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,children:\"PROJECT\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setProjectDetailTab('actions'),className:`py-4 px-1 border-b-2 font-medium text-sm ${projectDetailTab==='actions'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,children:\"ACTIONS\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setProjectDetailTab('archived-actions'),className:`py-4 px-1 border-b-2 font-medium text-sm ${projectDetailTab==='archived-actions'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,children:\"ARCHIVED ACTIONS\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[projectDetailTab==='project'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Basic Project Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500 mb-1\",children:\"PROJECT NAME\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedProject===null||selectedProject===void 0?void 0:selectedProject.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500 mb-1\",children:\"PROJECT ID\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedProject===null||selectedProject===void 0?void 0:selectedProject.projectId})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500 mb-1\",children:\"STATUS\"}),/*#__PURE__*/_jsx(\"span\",{className:getStatusBadge(selectedProject===null||selectedProject===void 0?void 0:selectedProject.status),children:selectedProject===null||selectedProject===void 0?void 0:selectedProject.status})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500 mb-1\",children:\"REGION\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedProject===null||selectedProject===void 0?void 0:selectedProject.region})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500 mb-1\",children:\"TEAM\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedProject===null||selectedProject===void 0?void 0:selectedProject.team})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500 mb-1\",children:\"COMPLETION\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-900\",children:[selectedProject===null||selectedProject===void 0?void 0:selectedProject.completion,\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-500 mb-1\",children:\"DESCRIPTION\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900\",children:selectedProject===null||selectedProject===void 0?void 0:selectedProject.description})]})]}),projectDetailTab==='actions'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:[\"Active Actions (\",activeActions.length,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowBulkActionModal(true),className:\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-4 h-4\"}),\"Bulk Add\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>openActionModal(),className:\"px-4 py-2 text-white rounded-lg flex items-center gap-2\",style:{backgroundColor:'#5B6ACD'},children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),\"Add Action\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Action\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Asset\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Action Path\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Due Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Cost\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:activeActions.map(action=>{const asset=assets.find(a=>a.id===action.assetId);const effectiveDate=action.overrideDate||action.nextDue;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm font-medium text-gray-900\",children:action.name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:asset===null||asset===void 0?void 0:asset.id}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:action.actionPath}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"select\",{value:action.status,onChange:e=>updateActionStatus(action.id,e.target.value),className:\"text-sm border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Open\",children:\"Open\"}),/*#__PURE__*/_jsx(\"option\",{value:\"In Progress\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Completed\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cancelled\",children:\"Cancelled\"})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:effectiveDate}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:[\"$\",action.cost.toLocaleString()]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openActionModal(action),className:\"text-gray-600 hover:text-gray-800\",title:\"Edit Action\",children:/*#__PURE__*/_jsx(Edit,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteAction(action.id),className:\"text-red-600 hover:text-red-800\",title:\"Delete Action\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})})]},action.id);})})]})})]}),projectDetailTab==='archived-actions'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-6\",children:[\"Archived Actions (\",archivedActions.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Action\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Asset\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Completed Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Cost\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:archivedActions.map(action=>{const asset=assets.find(a=>a.id===action.assetId);return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 opacity-75\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm font-medium text-gray-700\",children:action.name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-700\",children:asset===null||asset===void 0?void 0:asset.id}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"span\",{className:getStatusBadge(action.status),children:action.status})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-700\",children:action.completedDate||'N/A'}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 text-sm text-gray-700\",children:[\"$\",action.cost.toLocaleString()]})]},action.id);})})]})})]})]})]});};const renderCapitalPlan=()=>{const generateReportData=()=>{const currentYear=new Date().getFullYear();const years=Array.from({length:10},(_,i)=>currentYear+i);return years.map(year=>{let actualSpend=0;let plannedSpend=0;projects.forEach(project=>{project.actions.forEach(action=>{const actionDate=action.overrideDate||action.nextDue||action.completedDate;if(actionDate){const actionYear=new Date(actionDate).getFullYear();if(actionYear===year){if(action.status==='Completed'&&action.completedDate){actualSpend+=action.cost;}else{plannedSpend+=action.cost;}}}});});return{year,actualSpend,plannedSpend,totalSpend:actualSpend+plannedSpend};});};const reportData=generateReportData();const maxSpend=Math.max(...reportData.map(d=>d.totalSpend));return/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Capital Plan\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg border border-gray-200 p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"10-Year Capital Expenditure Forecast\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-green-500 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Actual Spend\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-blue-500 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Planned Spend\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Year\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actual Spend\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Planned Spend\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Visual\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:reportData.map(row=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 text-sm font-medium text-gray-900\",children:row.year}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-4 text-sm text-green-600 font-medium\",children:[\"$\",row.actualSpend.toLocaleString()]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-4 text-sm text-blue-600 font-medium\",children:[\"$\",row.plannedSpend.toLocaleString()]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-4 text-sm text-gray-900 font-medium\",children:[\"$\",row.totalSpend.toLocaleString()]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full h-6 bg-gray-200 rounded\",children:[row.actualSpend>0&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500 rounded-l\",style:{width:`${maxSpend>0?row.actualSpend/maxSpend*100:0}%`}}),row.plannedSpend>0&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 rounded-r\",style:{width:`${maxSpend>0?row.plannedSpend/maxSpend*100:0}%`}})]})})]},row.year))})]})})]})})]});};const renderActionModal=()=>{const filteredAssetsForAction=filteredAssets(assetSearchTerm);const selectedAsset=assets.find(a=>a.id===actionForm.assetId);const assetType=selectedAsset?assetTypes[selectedAsset.type]:null;const previewName=generateActionName(actionForm.actionPath.split(' > ').pop(),actionForm.assetId,actionForm.nextDue,actionForm.overrideDate,actionForm.recurrence);return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold mb-4\",children:editingAction?'Edit Action':'Add New Action'}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Asset\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-4 h-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search assets...\",className:\"flex-1 px-3 py-2 border rounded-lg text-sm\",value:assetSearchTerm,onChange:e=>setAssetSearchTerm(e.target.value)})]}),/*#__PURE__*/_jsxs(\"select\",{value:actionForm.assetId,onChange:e=>setActionForm(prev=>({...prev,assetId:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",size:Math.min(filteredAssetsForAction.length+1,5),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select an asset...\"}),filteredAssetsForAction.map(asset=>/*#__PURE__*/_jsxs(\"option\",{value:asset.id,children:[asset.id,\" - \",asset.name,\" (\",assetTypes[asset.type].name,\")\"]},asset.id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Action\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowActionSelector(true),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-left bg-white hover:bg-gray-50\",children:actionForm.actionPath||'Select action...'}),actionForm.actionDetails&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600 p-2 bg-gray-50 rounded\",children:[actionForm.actionDetails.description,\" - $\",actionForm.actionDetails.cost,\"/\",actionForm.actionDetails.unit]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Next Due Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:actionForm.nextDue,onChange:e=>setActionForm(prev=>({...prev,nextDue:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Override Date (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:actionForm.overrideDate,onChange:e=>setActionForm(prev=>({...prev,overrideDate:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:actionForm.recurrence,onChange:e=>setActionForm(prev=>({...prev,recurrence:e.target.checked})),className:\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"This action recurs (will generate for 10-year plan)\"})]})}),actionForm.recurrence&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Recurrence\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-2 bg-gray-100 rounded-lg text-sm\",children:\"Every\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:actionForm.recurrenceValue,onChange:e=>setActionForm(prev=>({...prev,recurrenceValue:parseInt(e.target.value)||1})),className:\"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"}),/*#__PURE__*/_jsxs(\"select\",{value:actionForm.recurrenceUnit,onChange:e=>setActionForm(prev=>({...prev,recurrenceUnit:e.target.value})),className:\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"months\",children:\"months\"}),/*#__PURE__*/_jsx(\"option\",{value:\"years\",children:\"years\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Asset Percentage\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",max:\"100\",value:actionForm.assetPercentage,onChange:e=>setActionForm(prev=>({...prev,assetPercentage:parseInt(e.target.value)||100})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter percentage (1-100)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Percentage of asset size affected by this action\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Modeled Cost\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:actionForm.modeledCost.toLocaleString(),readOnly:true,className:\"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Auto-calculated based on asset size and percentage\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Override Cost (Optional)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:actionForm.overrideCost,onChange:e=>setActionForm(prev=>({...prev,overrideCost:e.target.value})),className:\"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Leave blank to use modeled cost\"})]})]})]}),previewName&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-600 font-medium\",children:\"Action Preview:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:previewName}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 mt-1\",children:[\"Final Cost: $\",(actionForm.overrideCost?parseInt(actionForm.overrideCost):actionForm.modeledCost).toLocaleString(),actionForm.overrideCost&&/*#__PURE__*/_jsx(\"span\",{className:\"text-orange-600\",children:\" (Override Applied)\"})]}),actionForm.recurrence&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-blue-600 mt-1\",children:\"\\uD83D\\uDD04 Will generate recurring actions for 10-year capital plan\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowActionModal(false),className:\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:saveAction,disabled:!actionForm.assetId||!actionForm.actionPath||!actionForm.nextDue,className:\"px-4 py-2 text-white rounded-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed\",style:{backgroundColor:'#5B6ACD'},children:[editingAction?'Update':'Add',\" Action\"]})]})]})});};const openBulkActionModal=()=>{setBulkActionForm({region:'',assetType:'',actionPath:'',actionDetails:null,recurrence:false,recurrenceValue:1,recurrenceUnit:'years',nextDue:'',overrideDate:'',assetPercentage:100,overrideCost:''});setShowBulkActionModal(true);};const saveBulkActions=()=>{var _Object$values$find;if(!bulkActionForm.region||!bulkActionForm.assetType||!bulkActionForm.actionPath||!bulkActionForm.nextDue){alert('Please fill in all required fields');return;}// Get asset class from asset type\nconst assetClass=(_Object$values$find=Object.values(assetTypes).find(type=>type.name===bulkActionForm.assetType))===null||_Object$values$find===void 0?void 0:_Object$values$find.assetClass;// Filter assets by region and asset class\nconst matchingAssets=assets.filter(asset=>{const assetConfig=assetTypes[asset.type];return asset.region===bulkActionForm.region&&(assetConfig===null||assetConfig===void 0?void 0:assetConfig.assetClass)===assetClass;});if(matchingAssets.length===0){alert(`No assets found for region \"${bulkActionForm.region}\" and asset type \"${bulkActionForm.assetType}\"`);return;}// Create actions for all matching assets\nconst newActions=[];matchingAssets.forEach(asset=>{const modeledCost=calculateModeledCost(asset.id,bulkActionForm.actionDetails,bulkActionForm.assetPercentage);const finalCost=bulkActionForm.overrideCost?parseInt(bulkActionForm.overrideCost):modeledCost;const baseAction={id:Date.now()+Math.random(),name:generateActionName(bulkActionForm.actionPath.split(' > ').pop(),asset.id,bulkActionForm.nextDue,bulkActionForm.overrideDate,bulkActionForm.recurrence),assetId:asset.id,actionPath:bulkActionForm.actionPath,status:'Open',nextDue:bulkActionForm.nextDue,overrideDate:bulkActionForm.overrideDate||null,recurrence:bulkActionForm.recurrence,recurrenceValue:bulkActionForm.recurrenceValue,recurrenceUnit:bulkActionForm.recurrenceUnit,assetPercentage:bulkActionForm.assetPercentage,modeledCost,overrideCost:bulkActionForm.overrideCost?parseInt(bulkActionForm.overrideCost):null,cost:finalCost,createdBy:'current_user',createdDate:new Date().toISOString(),projectId:selectedProject.id};if(bulkActionForm.recurrence){newActions.push(...generateRecurringActions(baseAction,selectedProject));}else{newActions.push(baseAction);}});// Update the selected project with new actions\nsetProjects(prev=>prev.map(project=>{if(project.id===selectedProject.id){const updatedProject={...project,actions:[...project.actions,...newActions]};setSelectedProject(updatedProject);return updatedProject;}return project;}));// Add audit entries\nnewActions.forEach(action=>{addAuditEntry('action',action.id,'created',null,action.name);});setShowBulkActionModal(false);alert(`Successfully added ${newActions.length} actions to ${matchingAssets.length} assets`);};const renderBulkActionModal=()=>{var _Object$values$find2;// Get unique asset types grouped by asset class\nconst assetTypesByClass={};Object.entries(assetTypes).forEach(_ref4=>{let[code,config]=_ref4;if(!assetTypesByClass[config.assetClass]){assetTypesByClass[config.assetClass]=[];}assetTypesByClass[config.assetClass].push(config.name);});// Get unique asset types for dropdown\nconst uniqueAssetTypes=Array.from(new Set(Object.values(assetTypes).map(type=>type.name)));const previewName=generateActionName(bulkActionForm.actionPath.split(' > ').pop(),'BULK',bulkActionForm.nextDue,bulkActionForm.overrideDate,bulkActionForm.recurrence);// Count matching assets for preview\nconst assetClass=(_Object$values$find2=Object.values(assetTypes).find(type=>type.name===bulkActionForm.assetType))===null||_Object$values$find2===void 0?void 0:_Object$values$find2.assetClass;const matchingAssetsCount=assets.filter(asset=>{const assetConfig=assetTypes[asset.type];return asset.region===bulkActionForm.region&&(assetConfig===null||assetConfig===void 0?void 0:assetConfig.assetClass)===assetClass;}).length;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold mb-4\",children:\"Bulk Add Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Region *\"}),/*#__PURE__*/_jsxs(\"select\",{value:bulkActionForm.region,onChange:e=>setBulkActionForm(prev=>({...prev,region:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select region...\"}),regions.map(region=>/*#__PURE__*/_jsx(\"option\",{value:region,children:region},region))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Asset Type *\"}),/*#__PURE__*/_jsxs(\"select\",{value:bulkActionForm.assetType,onChange:e=>setBulkActionForm(prev=>({...prev,assetType:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select asset type...\"}),uniqueAssetTypes.map(assetType=>/*#__PURE__*/_jsx(\"option\",{value:assetType,children:assetType},assetType))]})]}),bulkActionForm.region&&bulkActionForm.assetType&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-blue-600 bg-blue-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-4 h-4 inline mr-2\"}),\"This will apply to \",matchingAssetsCount,\" asset\",matchingAssetsCount!==1?'s':'',\" in \",bulkActionForm.region,\" region\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Action *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowActionSelector(true),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-left bg-white hover:bg-gray-50\",children:bulkActionForm.actionPath||'Select action...'}),bulkActionForm.actionDetails&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600 p-2 bg-gray-50 rounded\",children:[bulkActionForm.actionDetails.description,\" - $\",bulkActionForm.actionDetails.cost,\"/\",bulkActionForm.actionDetails.unit]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Next Due Date *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:bulkActionForm.nextDue,onChange:e=>setBulkActionForm(prev=>({...prev,nextDue:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Override Date (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:bulkActionForm.overrideDate,onChange:e=>setBulkActionForm(prev=>({...prev,overrideDate:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:bulkActionForm.recurrence,onChange:e=>setBulkActionForm(prev=>({...prev,recurrence:e.target.checked})),className:\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"This action recurs (will generate for 10-year plan)\"})]})}),bulkActionForm.recurrence&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Recurrence\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-2 bg-gray-100 rounded-lg text-sm\",children:\"Every\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:bulkActionForm.recurrenceValue,onChange:e=>setBulkActionForm(prev=>({...prev,recurrenceValue:parseInt(e.target.value)||1})),className:\"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"}),/*#__PURE__*/_jsxs(\"select\",{value:bulkActionForm.recurrenceUnit,onChange:e=>setBulkActionForm(prev=>({...prev,recurrenceUnit:e.target.value})),className:\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"months\",children:\"months\"}),/*#__PURE__*/_jsx(\"option\",{value:\"years\",children:\"years\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Asset Percentage\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",max:\"100\",value:bulkActionForm.assetPercentage,onChange:e=>setBulkActionForm(prev=>({...prev,assetPercentage:parseInt(e.target.value)||100})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter percentage (1-100)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Percentage of asset size affected by this action\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Override Cost (Optional)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:bulkActionForm.overrideCost,onChange:e=>setBulkActionForm(prev=>({...prev,overrideCost:e.target.value})),className:\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter override cost\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Leave empty to use calculated cost based on asset size\"})]}),previewName&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Preview Action Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-900\",children:previewName.replace('BULK','[ASSET_ID]')})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowBulkActionModal(false),className:\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:saveBulkActions,disabled:!bulkActionForm.region||!bulkActionForm.assetType||!bulkActionForm.actionPath||!bulkActionForm.nextDue,className:\"px-4 py-2 text-white rounded-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed\",style:{backgroundColor:'#5B6ACD'},children:\"Create Bulk Actions\"})]})]})});};const renderProjectModal=()=>/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold mb-4\",children:editingProject?'Edit Project':'Add New Project'}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Project Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:projectForm.name,onChange:e=>setProjectForm(prev=>({...prev,name:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter project name\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:projectForm.description,onChange:e=>setProjectForm(prev=>({...prev,description:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",rows:3,placeholder:\"Enter project description\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:projectForm.status,onChange:e=>setProjectForm(prev=>({...prev,status:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Planning\",children:\"Planning\"}),/*#__PURE__*/_jsx(\"option\",{value:\"In Progress\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Completed\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cancelled\",children:\"Cancelled\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Archived\",children:\"Archived\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Team\"}),/*#__PURE__*/_jsxs(\"select\",{value:projectForm.team,onChange:e=>setProjectForm(prev=>({...prev,team:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select team...\"}),teams.map(team=>/*#__PURE__*/_jsx(\"option\",{value:team,children:team},team))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Region\"}),/*#__PURE__*/_jsxs(\"select\",{value:projectForm.region,onChange:e=>setProjectForm(prev=>({...prev,region:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select region...\"}),regions.map(region=>/*#__PURE__*/_jsx(\"option\",{value:region,children:region},region))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:projectForm.startDate,onChange:e=>setProjectForm(prev=>({...prev,startDate:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"End Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:projectForm.endDate,onChange:e=>setProjectForm(prev=>({...prev,endDate:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowProjectModal(false),className:\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:saveProject,disabled:!projectForm.name||!projectForm.team||!projectForm.region,className:\"px-4 py-2 text-white rounded-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed\",style:{backgroundColor:'#5B6ACD'},children:[editingProject?'Update':'Create',\" Project\"]})]})]})});if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Loading data...\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-red-600\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-12 h-12 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold mb-2\",children:\"Error Loading Data\"}),/*#__PURE__*/_jsx(\"p\",{children:error})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-screen bg-gray-50\",children:[renderSidebar(),currentView==='projects'&&renderProjectsList(),currentView==='project-detail'&&renderProjectDetail(),currentView==='capital-plan'&&renderCapitalPlan(),currentView==='assets'&&/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 p-6\",children:\"Assets view coming soon...\"}),currentView==='reporting'&&/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 p-6\",children:\"Reporting view coming soon...\"}),showActionModal&&renderActionModal(),showBulkActionModal&&renderBulkActionModal(),showProjectModal&&renderProjectModal(),showActionSelector&&renderActionSelector()]});};export default ProjectsActionsModule;","map":{"version":3,"names":["React","useState","useEffect","DollarSign","Plus","Filter","Search","Eye","Edit","Trash2","BarChart3","Clock","CheckCircle","AlertCircle","XCircle","Pause","TreePine","Archive","Users","ChevronRight","ChevronDown","X","FolderOpen","Folder","File","loadAllData","jsx","_jsx","jsxs","_jsxs","ProjectsActionsModule","currentView","setCurrentView","projectsTab","setProjectsTab","projectDetailTab","setProjectDetailTab","projects","setProjects","assets","setAssets","assetTypes","setAssetTypes","costDatabase","setCostDatabase","teams","setTeams","regions","setRegions","archives","setArchives","actions","auditTrail","setAuditTrail","selectedProject","setSelectedProject","showActionModal","setShowActionModal","showBulkActionModal","setShowBulkActionModal","showProjectModal","setShowProjectModal","showActionSelector","setShowActionSelector","editingAction","setEditingAction","editingProject","setEditingProject","searchTerm","setSearchTerm","assetSearchTerm","setAssetSearchTerm","isLoading","setIsLoading","error","setError","filters","setFilters","projectType","status","region","assetClass","team","expandedNodes","setExpandedNodes","Set","selectorState","setSelectorState","selectedAssetClass","selectedAssetType","selectedAction","breadcrumbs","previewAction","setPreviewAction","loadData","data","err","console","actionForm","setActionForm","assetId","actionPath","actionDetails","recurrence","recurrenceValue","recurrenceUnit","nextDue","overrideDate","assetPercentage","modeledCost","overrideCost","bulkActionForm","setBulkActionForm","assetType","projectForm","setProjectForm","name","description","startDate","endDate","generateProjectId","year","Date","getFullYear","existingCount","filter","p","projectId","includes","length","String","padStart","generateRecurringActions","baseAction","project","currentYear","recurringDate","setFullYear","recurringAction","id","now","Math","random","generateActionName","split","pop","toISOString","completedDate","undefined","createdDate","push","calculateProjectCompletion","totalCost","reduce","sum","action","cost","completedCost","round","prev","map","completion","addAuditEntry","entityType","entityId","field","oldValue","newValue","changedBy","arguments","newEntry","changedDate","calculateModeledCost","percentage","asset","find","a","size","getStatusIcon","className","getStatusBadge","baseClasses","actionType","date","monthNames","month","getMonth","filteredProjects","matchesSearch","toLowerCase","matchesFilters","filteredAssets","type","downloadActionsCSV","csvData","forEach","assetConfig","actionYear","csv","Object","keys","join","row","values","value","blob","Blob","url","window","URL","createObjectURL","document","createElement","href","download","click","revokeObjectURL","openProjectModal","saveProject","newProject","createdBy","lastModified","openActionModal","toggleNode","nodePath","newSet","has","delete","add","previewActionFromTree","actionName","path","details","selectActionFromTree","saveAction","finalCost","parseInt","allActions","updatedProject","updateActionStatus","actionId","newStatus","oldStatus","updatedAction","archivedDate","archivedBy","deleteAction","confirm","deletedDate","deletedBy","renderSidebar","children","style","backgroundColor","color","onClick","renderActionSelector","entries","_ref","assetTypesObj","_ref2","_ref3","unit","lifecycle","renderProjectsList","onChange","e","target","placeholder","totalBudget","toLocaleString","title","renderProjectDetail","activeActions","archivedActions","effectiveDate","renderCapitalPlan","generateReportData","years","Array","from","_","i","actualSpend","plannedSpend","actionDate","totalSpend","reportData","maxSpend","max","d","width","renderActionModal","filteredAssetsForAction","selectedAsset","previewName","min","checked","readOnly","disabled","openBulkActionModal","saveBulkActions","_Object$values$find","alert","matchingAssets","newActions","renderBulkActionModal","_Object$values$find2","assetTypesByClass","_ref4","code","config","uniqueAssetTypes","matchingAssetsCount","replace","renderProjectModal","rows"],"sources":["/Users/refayetsiam/Documents/vsCode_projects_offline/NOV-Projects/projects-v01/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { DollarSign, Plus, Filter, Search, Eye, Edit, Trash2, BarChart3, Clock, CheckCircle, AlertCircle, XCircle, Pause, TreePine, Archive, Users, ChevronRight, ChevronDown, X, FolderOpen, Folder, File } from 'lucide-react';\nimport { loadAllData } from './utils/csvLoader';\n\nconst ProjectsActionsModule = () => {\n  const [currentView, setCurrentView] = useState('projects');\n  const [projectsTab, setProjectsTab] = useState('all');\n  const [projectDetailTab, setProjectDetailTab] = useState('project');\n  const [projects, setProjects] = useState([]);\n  const [assets, setAssets] = useState([]);\n  const [assetTypes, setAssetTypes] = useState({});\n  const [costDatabase, setCostDatabase] = useState({});\n  const [teams, setTeams] = useState([]);\n  const [regions, setRegions] = useState([]);\n  const [archives, setArchives] = useState({ projects: [], actions: [] });\n  const [auditTrail, setAuditTrail] = useState([]);\n  const [selectedProject, setSelectedProject] = useState(null);\n  const [showActionModal, setShowActionModal] = useState(false);\n  const [showBulkActionModal, setShowBulkActionModal] = useState(false);\n  const [showProjectModal, setShowProjectModal] = useState(false);\n  const [showActionSelector, setShowActionSelector] = useState(false);\n  const [editingAction, setEditingAction] = useState(null);\n  const [editingProject, setEditingProject] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [assetSearchTerm, setAssetSearchTerm] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [filters, setFilters] = useState({\n    projectType: '',\n    status: '',\n    region: '',\n    assetClass: '',\n    team: ''\n  });\n\n  // Tree view state\n  const [expandedNodes, setExpandedNodes] = useState(new Set(['Trees', 'Wetlands', 'Grass']));\n\n  // Action selector state\n  const [selectorState, setSelectorState] = useState({\n    selectedAssetClass: '',\n    selectedAssetType: '',\n    selectedAction: '',\n    breadcrumbs: [],\n    expandedNodes: new Set()\n  });\n\n  // Action preview state\n  const [previewAction, setPreviewAction] = useState(null);\n\n  // Load data on component mount\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        setIsLoading(true);\n        const data = await loadAllData();\n        \n        setAssetTypes(data.assetTypes);\n        setCostDatabase(data.costDatabase);\n        setAssets(data.assets);\n        setProjects(data.projects);\n        setAuditTrail(data.auditTrail);\n        setTeams(data.teams);\n        setRegions(data.regions);\n        setError(null);\n      } catch (err) {\n        setError('Failed to load data. Please check if the CSV files are accessible.');\n        console.error('Error loading data:', err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadData();\n  }, []);\n\n  // Action modal state\n  const [actionForm, setActionForm] = useState({\n    assetId: '',\n    actionPath: '',\n    actionDetails: null,\n    recurrence: false,\n    recurrenceValue: 1,\n    recurrenceUnit: 'years',\n    nextDue: '',\n    overrideDate: '',\n    assetPercentage: 100,\n    modeledCost: 0,\n    overrideCost: ''\n  });\n\n  // Bulk action modal state\n  const [bulkActionForm, setBulkActionForm] = useState({\n    region: '',\n    assetType: '',\n    actionPath: '',\n    actionDetails: null,\n    recurrence: false,\n    recurrenceValue: 1,\n    recurrenceUnit: 'years',\n    nextDue: '',\n    overrideDate: '',\n    assetPercentage: 100,\n    overrideCost: ''\n  });\n\n  // Project modal state\n  const [projectForm, setProjectForm] = useState({\n    name: '',\n    description: '',\n    status: 'Planning',\n    startDate: '',\n    endDate: '',\n    team: '',\n    region: ''\n  });\n\n  // Generate project ID\n  const generateProjectId = () => {\n    const year = new Date().getFullYear();\n    const existingCount = projects.filter(p => p.projectId.includes(`PROJ-${year}`)).length;\n    return `PROJ-${year}-${String(existingCount + 1).padStart(3, '0')}`;\n  };\n\n  // Generate recurring actions for 10-year plan\n  const generateRecurringActions = (baseAction, project) => {\n    if (!baseAction.recurrence) return [baseAction];\n    \n    const actions = [baseAction];\n    const startDate = new Date(baseAction.nextDue);\n    const currentYear = new Date().getFullYear();\n    \n    for (let year = startDate.getFullYear() + baseAction.recurrenceValue; year <= currentYear + 10; year += baseAction.recurrenceValue) {\n      const recurringDate = new Date(startDate);\n      recurringDate.setFullYear(year);\n      \n      const recurringAction = {\n        ...baseAction,\n        id: Date.now() + Math.random(),\n        name: generateActionName(baseAction.actionPath.split(' > ').pop(), baseAction.assetId, recurringDate.toISOString().split('T')[0], null, true),\n        nextDue: recurringDate.toISOString().split('T')[0],\n        status: 'Open',\n        completedDate: undefined,\n        createdDate: new Date().toISOString()\n      };\n      \n      actions.push(recurringAction);\n    }\n    \n    return actions;\n  };\n\n  // Calculate project completion\n  const calculateProjectCompletion = (project) => {\n    const totalCost = project.actions.reduce((sum, action) => sum + action.cost, 0);\n    const completedCost = project.actions\n      .filter(action => action.status === 'Completed')\n      .reduce((sum, action) => sum + action.cost, 0);\n    \n    return totalCost > 0 ? Math.round((completedCost / totalCost) * 100) : 0;\n  };\n\n  // Update project completions\n  useEffect(() => {\n    setProjects(prev => prev.map(project => ({\n      ...project,\n      completion: calculateProjectCompletion(project)\n    })));\n  }, []);\n\n  const addAuditEntry = (entityType, entityId, field, oldValue, newValue, changedBy = 'current_user') => {\n    const newEntry = {\n      id: Date.now(),\n      entityType,\n      entityId,\n      field,\n      oldValue,\n      newValue,\n      changedBy,\n      changedDate: new Date().toISOString()\n    };\n    setAuditTrail(prev => [newEntry, ...prev]);\n  };\n\n  const calculateModeledCost = (assetId, actionDetails, percentage) => {\n    const asset = assets.find(a => a.id === assetId);\n    if (!asset || !actionDetails || !percentage) return 0;\n    \n    return Math.round(asset.size * (percentage / 100) * actionDetails.cost);\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'Completed': return <CheckCircle className=\"w-4 h-4 text-green-600\" />;\n      case 'In Progress': return <Clock className=\"w-4 h-4 text-blue-600\" />;\n      case 'Open': return <AlertCircle className=\"w-4 h-4 text-yellow-600\" />;\n      case 'Cancelled': return <XCircle className=\"w-4 h-4 text-red-600\" />;\n      case 'Planning': return <Pause className=\"w-4 h-4 text-blue-500\" />;\n      case 'Archived': return <Archive className=\"w-4 h-4 text-gray-600\" />;\n      default: return <AlertCircle className=\"w-4 h-4 text-gray-600\" />;\n    }\n  };\n\n  const getStatusBadge = (status) => {\n    const baseClasses = \"px-2 py-1 text-xs font-medium rounded\";\n    switch (status) {\n      case 'Completed': return `${baseClasses} bg-green-100 text-green-800`;\n      case 'In Progress': return `${baseClasses} bg-blue-100 text-blue-800`;\n      case 'Open': return `${baseClasses} bg-yellow-100 text-yellow-800`;\n      case 'Cancelled': return `${baseClasses} bg-red-100 text-red-800`;\n      case 'Planning': return `${baseClasses} bg-orange-100 text-orange-800`;\n      case 'Archived': return `${baseClasses} bg-gray-100 text-gray-800`;\n      default: return `${baseClasses} bg-gray-100 text-gray-800`;\n    }\n  };\n\n  const generateActionName = (actionType, assetId, nextDue, overrideDate, recurrence) => {\n    if (!actionType || !assetId) return '';\n    \n    let name = `${actionType} - ${assetId}`;\n    \n    if (recurrence && (overrideDate || nextDue)) {\n      const date = new Date(overrideDate || nextDue);\n      const monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n      const month = monthNames[date.getMonth()];\n      const year = date.getFullYear();\n      name += ` - ${month} ${year}`;\n    }\n    \n    return name;\n  };\n\n  const filteredProjects = projects.filter(project => {\n    if (projectsTab === 'archived' && project.status !== 'Archived') return false;\n    if (projectsTab === 'all' && project.status === 'Archived') return false;\n    \n    const matchesSearch = !searchTerm || \n      project.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      project.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      project.region.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesFilters = (!filters.status || project.status === filters.status) &&\n                          (!filters.team || project.team === filters.team) &&\n                          (!filters.region || project.region === filters.region);\n    \n    return matchesSearch && matchesFilters;\n  });\n\n  const filteredAssets = (searchTerm = assetSearchTerm) => {\n    if (!searchTerm) return assets;\n    return assets.filter(asset =>\n      asset.id.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      asset.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      assetTypes[asset.type].name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      asset.region.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n  };\n\n  const downloadActionsCSV = () => {\n    const csvData = [];\n    projects.forEach(project => {\n      project.actions.forEach(action => {\n        const asset = assets.find(a => a.id === action.assetId);\n        const assetConfig = assetTypes[asset?.type];\n        const actionYear = new Date(action.overrideDate || action.nextDue || action.completedDate || '').getFullYear();\n        \n        csvData.push({\n          'Project Name': project.name,\n          'Project ID': project.projectId,\n          'Region Name': project.region,\n          'Asset Class': assetConfig?.assetClass || '',\n          'Asset Name': asset?.name || '',\n          'Asset Size': asset?.size || '',\n          'Action Name': action.name,\n          'Action Cost': action.cost,\n          'Action Year': actionYear || '',\n          'Status': action.status,\n          'Due Date': action.overrideDate || action.nextDue || '',\n          'Completed Date': action.completedDate || ''\n        });\n      });\n    });\n    \n    const csv = [\n      Object.keys(csvData[0]).join(','),\n      ...csvData.map(row => Object.values(row).map(value => `\"${value}\"`).join(','))\n    ].join('\\n');\n    \n    const blob = new Blob([csv], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'actions-list-export.csv';\n    a.click();\n    window.URL.revokeObjectURL(url);\n  };\n\n  const openProjectModal = (project = null) => {\n    if (project) {\n      setEditingProject(project);\n      setProjectForm({\n        name: project.name,\n        description: project.description,\n        status: project.status,\n        startDate: project.startDate,\n        endDate: project.endDate,\n        team: project.team,\n        region: project.region\n      });\n    } else {\n      setEditingProject(null);\n      setProjectForm({\n        name: '',\n        description: '',\n        status: 'Planning',\n        startDate: '',\n        endDate: '',\n        team: '',\n        region: ''\n      });\n    }\n    setShowProjectModal(true);\n  };\n\n  const saveProject = () => {\n    const newProject = {\n      id: editingProject ? editingProject.id : Date.now(),\n      projectId: editingProject ? editingProject.projectId : generateProjectId(),\n      ...projectForm,\n      completion: editingProject ? editingProject.completion : 0,\n      actions: editingProject ? editingProject.actions : [],\n      createdBy: editingProject ? editingProject.createdBy : 'current_user',\n      createdDate: editingProject ? editingProject.createdDate : new Date().toISOString(),\n      lastModified: new Date().toISOString()\n    };\n\n    if (editingProject) {\n      Object.keys(projectForm).forEach(field => {\n        if (editingProject[field] !== projectForm[field]) {\n          addAuditEntry('Project', editingProject.id, field, editingProject[field], projectForm[field]);\n        }\n      });\n      \n      setProjects(prev => prev.map(p => p.id === editingProject.id ? newProject : p));\n      if (selectedProject && selectedProject.id === editingProject.id) {\n        setSelectedProject(newProject);\n      }\n    } else {\n      setProjects(prev => [...prev, newProject]);\n    }\n\n    setShowProjectModal(false);\n  };\n\n  const openActionModal = (action = null) => {\n    if (action) {\n      setEditingAction(action);\n      setActionForm({\n        assetId: action.assetId,\n        actionPath: action.actionPath,\n        actionDetails: null,\n        recurrence: action.recurrence || false,\n        recurrenceValue: action.recurrenceValue || 1,\n        recurrenceUnit: action.recurrenceUnit || 'years',\n        nextDue: action.nextDue || '',\n        overrideDate: action.overrideDate || '',\n        assetPercentage: action.assetPercentage || 100,\n        modeledCost: action.modeledCost || 0,\n        overrideCost: action.overrideCost || ''\n      });\n    } else {\n      setEditingAction(null);\n      setActionForm({\n        assetId: '',\n        actionPath: '',\n        actionDetails: null,\n        recurrence: false,\n        recurrenceValue: 1,\n        recurrenceUnit: 'years',\n        nextDue: '',\n        overrideDate: '',\n        assetPercentage: 100,\n        modeledCost: 0,\n        overrideCost: ''\n      });\n    }\n    setAssetSearchTerm('');\n    setShowActionModal(true);\n  };\n\n  const toggleNode = (nodePath) => {\n    setExpandedNodes(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(nodePath)) {\n        newSet.delete(nodePath);\n      } else {\n        newSet.add(nodePath);\n      }\n      return newSet;\n    });\n  };\n\n  const previewActionFromTree = (actionPath, actionDetails, actionName) => {\n    setPreviewAction({\n      path: actionPath,\n      details: actionDetails,\n      name: actionName\n    });\n  };\n\n  const selectActionFromTree = (actionPath, actionDetails) => {\n    // Update the appropriate form based on which modal is open\n    if (showBulkActionModal) {\n      setBulkActionForm(prev => ({\n        ...prev,\n        actionPath: actionPath,\n        actionDetails: actionDetails\n      }));\n    } else {\n      setActionForm(prev => ({\n        ...prev,\n        actionPath: actionPath,\n        actionDetails: actionDetails\n      }));\n    }\n    setShowActionSelector(false);\n    setPreviewAction(null);\n  };\n\n  // Update modeled cost when form changes\n  useEffect(() => {\n    if (actionForm.assetId && actionForm.actionDetails && actionForm.assetPercentage) {\n      const modeledCost = calculateModeledCost(actionForm.assetId, actionForm.actionDetails, actionForm.assetPercentage);\n      setActionForm(prev => ({ ...prev, modeledCost }));\n    }\n  }, [actionForm.assetId, actionForm.actionDetails, actionForm.assetPercentage, assets]);\n\n  const saveAction = () => {\n    const actionName = generateActionName(\n      actionForm.actionPath.split(' > ').pop(), \n      actionForm.assetId, \n      actionForm.nextDue, \n      actionForm.overrideDate, \n      actionForm.recurrence\n    );\n    const finalCost = actionForm.overrideCost ? parseInt(actionForm.overrideCost) : actionForm.modeledCost;\n    \n    const baseAction = {\n      id: editingAction ? editingAction.id : Date.now(),\n      name: actionName,\n      assetId: actionForm.assetId,\n      actionPath: actionForm.actionPath,\n      status: editingAction ? editingAction.status : 'Open',\n      nextDue: actionForm.nextDue,\n      overrideDate: actionForm.overrideDate || null,\n      recurrence: actionForm.recurrence,\n      recurrenceValue: actionForm.recurrence ? actionForm.recurrenceValue : null,\n      recurrenceUnit: actionForm.recurrence ? actionForm.recurrenceUnit : null,\n      assetPercentage: actionForm.assetPercentage,\n      modeledCost: actionForm.modeledCost,\n      overrideCost: actionForm.overrideCost ? parseInt(actionForm.overrideCost) : null,\n      cost: finalCost,\n      createdBy: editingAction ? editingAction.createdBy : 'current_user',\n      createdDate: editingAction ? editingAction.createdDate : new Date().toISOString(),\n      ...(editingAction?.completedDate && { completedDate: editingAction.completedDate })\n    };\n\n    // Generate recurring actions if applicable\n    const allActions = generateRecurringActions(baseAction, selectedProject);\n\n    if (editingAction) {\n      Object.keys(actionForm).forEach(field => {\n        if (editingAction[field] !== actionForm[field]) {\n          addAuditEntry('Action', editingAction.id, field, editingAction[field], actionForm[field]);\n        }\n      });\n    }\n\n    const updatedProject = {\n      ...selectedProject,\n      actions: editingAction \n        ? selectedProject.actions.map(a => a.id === editingAction.id ? baseAction : a)\n        : [...selectedProject.actions, ...allActions],\n      lastModified: new Date().toISOString()\n    };\n\n    updatedProject.completion = calculateProjectCompletion(updatedProject);\n\n    setSelectedProject(updatedProject);\n    setProjects(prev => prev.map(p => p.id === selectedProject.id ? updatedProject : p));\n\n    setShowActionModal(false);\n  };\n\n  const updateActionStatus = (actionId, newStatus) => {\n    const action = selectedProject.actions.find(a => a.id === actionId);\n    const oldStatus = action.status;\n    \n    let updatedAction = { \n      ...action, \n      status: newStatus,\n      ...(newStatus === 'Completed' && { completedDate: new Date().toISOString().split('T')[0] })\n    };\n\n    if (newStatus === 'Completed' || newStatus === 'Archived') {\n      setArchives(prev => ({\n        ...prev,\n        actions: [...prev.actions, { ...updatedAction, archivedDate: new Date().toISOString(), archivedBy: 'current_user' }]\n      }));\n    }\n    \n    const updatedProject = {\n      ...selectedProject,\n      actions: selectedProject.actions.map(a => a.id === actionId ? updatedAction : a),\n      lastModified: new Date().toISOString()\n    };\n\n    updatedProject.completion = calculateProjectCompletion(updatedProject);\n    \n    setSelectedProject(updatedProject);\n    setProjects(prev => prev.map(p => p.id === selectedProject.id ? updatedProject : p));\n    \n    addAuditEntry('Action', actionId, 'status', oldStatus, newStatus);\n  };\n\n  const deleteAction = (actionId) => {\n    if (window.confirm('Are you sure you want to delete this action? This action cannot be undone.')) {\n      const action = selectedProject.actions.find(a => a.id === actionId);\n      if (action) {\n        setArchives(prev => ({\n          ...prev,\n          actions: [...prev.actions, { ...action, deletedDate: new Date().toISOString(), deletedBy: 'current_user' }]\n        }));\n        \n        const updatedProject = {\n          ...selectedProject,\n          actions: selectedProject.actions.filter(a => a.id !== actionId),\n          lastModified: new Date().toISOString()\n        };\n\n        updatedProject.completion = calculateProjectCompletion(updatedProject);\n        \n        setSelectedProject(updatedProject);\n        setProjects(prev => prev.map(p => p.id === selectedProject.id ? updatedProject : p));\n        \n        addAuditEntry('Action', actionId, 'status', action.status, 'Deleted');\n      }\n    }\n  };\n\n  const renderSidebar = () => (\n    <div className=\"w-64 bg-white border-r border-gray-200 h-screen flex flex-col\">\n      {/* NOVION Branding */}\n      <div className=\"flex items-center p-4 border-b border-gray-200\" style={{ backgroundColor: '#5B6ACD' }}>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-6 h-6 bg-white rounded flex items-center justify-center\">\n            <BarChart3 className=\"w-4 h-4\" style={{ color: '#5B6ACD' }} />\n          </div>\n          <span className=\"text-white font-semibold text-lg\">NOVION</span>\n        </div>\n      </div>\n\n      {/* Navigation */}\n      <nav className=\"flex-1 px-4 py-6\">\n        <div className=\"space-y-2\">\n          <div\n            onClick={() => setCurrentView('assets')}\n            className={`flex items-center px-3 py-2 text-sm font-medium rounded-lg cursor-pointer ${\n              currentView === 'assets' ? 'bg-blue-50 text-blue-700' : 'text-gray-700 hover:bg-gray-100'\n            }`}\n          >\n            <TreePine className=\"w-4 h-4 mr-3\" />\n            Assets\n          </div>\n          <div\n            onClick={() => setCurrentView('projects')}\n            className={`flex items-center px-3 py-2 text-sm font-medium rounded-lg cursor-pointer ${\n              currentView === 'projects' ? 'bg-blue-50 text-blue-700' : 'text-gray-700 hover:bg-gray-100'\n            }`}\n          >\n            <Folder className=\"w-4 h-4 mr-3\" />\n            Projects\n          </div>\n          <div\n            onClick={() => setCurrentView('reporting')}\n            className={`flex items-center px-3 py-2 text-sm font-medium rounded-lg cursor-pointer ${\n              currentView === 'reporting' ? 'bg-blue-50 text-blue-700' : 'text-gray-700 hover:bg-gray-100'\n            }`}\n          >\n            <BarChart3 className=\"w-4 h-4 mr-3\" />\n            Reporting\n          </div>\n          <div\n            onClick={() => setCurrentView('capital-plan')}\n            className={`flex items-center px-3 py-2 text-sm font-medium rounded-lg cursor-pointer ${\n              currentView === 'capital-plan' ? 'bg-blue-50 text-blue-700' : 'text-gray-700 hover:bg-gray-100'\n            }`}\n          >\n            <DollarSign className=\"w-4 h-4 mr-3\" />\n            Capital Plan\n          </div>\n        </div>\n      </nav>\n\n      {/* Sign Out */}\n      <div className=\"p-4 border-t border-gray-200\">\n        <button className=\"flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg w-full\">\n          <Archive className=\"w-4 h-4 mr-3\" />\n          Sign Out\n        </button>\n      </div>\n    </div>\n  );\n\n  const renderActionSelector = () => (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg w-full max-w-4xl mx-4 h-[80vh] flex flex-col\">\n        <div className=\"flex items-center justify-between p-6 border-b\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">Select Action</h2>\n          <button\n            onClick={() => setShowActionSelector(false)}\n            className=\"text-gray-400 hover:text-gray-600\"\n          >\n            <X className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        <div className=\"flex-1 flex\">\n          {/* Tree Explorer */}\n          <div className=\"w-1/2 border-r overflow-y-auto p-6\">\n            <div className=\"space-y-1\">\n              {Object.entries(costDatabase).map(([assetClass, assetTypesObj]) => (\n                <div key={assetClass}>\n                  <div\n                    onClick={() => toggleNode(assetClass)}\n                    className=\"flex items-center py-2 px-2 hover:bg-gray-50 rounded cursor-pointer\"\n                  >\n                    {expandedNodes.has(assetClass) ? (\n                      <ChevronDown className=\"w-4 h-4 text-gray-500 mr-1\" />\n                    ) : (\n                      <ChevronRight className=\"w-4 h-4 text-gray-500 mr-1\" />\n                    )}\n                    <FolderOpen className=\"w-4 h-4 text-blue-500 mr-2\" />\n                    <span className=\"text-sm font-medium text-gray-900\">{assetClass}</span>\n                  </div>\n\n                  {expandedNodes.has(assetClass) && (\n                    <div className=\"ml-6 space-y-1\">\n                      {Object.entries(assetTypesObj).map(([assetType, actions]) => (\n                        <div key={assetType}>\n                          <div\n                            onClick={() => toggleNode(`${assetClass}/${assetType}`)}\n                            className=\"flex items-center py-2 px-2 hover:bg-gray-50 rounded cursor-pointer\"\n                          >\n                            {expandedNodes.has(`${assetClass}/${assetType}`) ? (\n                              <ChevronDown className=\"w-4 h-4 text-gray-500 mr-1\" />\n                            ) : (\n                              <ChevronRight className=\"w-4 h-4 text-gray-500 mr-1\" />\n                            )}\n                            <Folder className=\"w-4 h-4 text-gray-500 mr-2\" />\n                            <span className=\"text-sm text-gray-700\">{assetType}</span>\n                          </div>\n\n                          {expandedNodes.has(`${assetClass}/${assetType}`) && (\n                            <div className=\"ml-6 space-y-1\">\n                              {Object.entries(actions).map(([actionName, actionDetails]) => (\n                                <div\n                                  key={actionName}\n                                  onClick={() => previewActionFromTree(`${assetClass} > ${assetType} > ${actionName}`, actionDetails, actionName)}\n                                  className={`flex items-center py-2 px-2 hover:bg-blue-50 rounded cursor-pointer ${\n                                    previewAction?.name === actionName ? 'bg-blue-100' : ''\n                                  }`}\n                                >\n                                  <File className=\"w-4 h-4 text-gray-400 mr-2 ml-1\" />\n                                  <span className=\"text-sm text-gray-600\">{actionName}</span>\n                                </div>\n                              ))}\n                            </div>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Details Panel */}\n          <div className=\"w-1/2 p-6 bg-gray-50\">\n            {previewAction ? (\n              <div className=\"space-y-6\">\n                <div>\n                  <h3 className=\"text-xl font-semibold text-gray-900 mb-4\">{previewAction.name}</h3>\n                  \n                  <div className=\"bg-white rounded-lg p-4 space-y-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-500 mb-1\">DESCRIPTION</label>\n                      <p className=\"text-sm text-gray-900\">{previewAction.details.description}</p>\n                    </div>\n                    \n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-500 mb-1\">COST</label>\n                        <p className=\"text-sm text-gray-900\">${previewAction.details.cost}</p>\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-500 mb-1\">UNIT</label>\n                        <p className=\"text-sm text-gray-900\">{previewAction.details.unit}</p>\n                      </div>\n                    </div>\n                    \n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-500 mb-1\">LIFECYCLE</label>\n                      <p className=\"text-sm text-gray-900\">{previewAction.details.lifecycle}</p>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"pt-4\">\n                  <button\n                    onClick={() => selectActionFromTree(previewAction.path, previewAction.details)}\n                    className=\"w-full px-4 py-3 text-white rounded-lg flex items-center justify-center gap-2 hover:opacity-90\"\n                    style={{ backgroundColor: '#5B6ACD' }}\n                  >\n                    <Plus className=\"w-4 h-4\" />\n                    Add Action\n                  </button>\n                </div>\n              </div>\n            ) : (\n              <div className=\"text-center text-gray-500 mt-20\">\n                <TreePine className=\"w-16 h-16 mx-auto text-gray-300 mb-4\" />\n                <p>Select an action from the tree to view details</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderProjectsList = () => (\n    <div className=\"flex-1\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-200\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Projects</h1>\n        <button\n          onClick={() => openProjectModal()}\n          className=\"px-4 py-2 text-white rounded-lg flex items-center gap-2\"\n          style={{ backgroundColor: '#5B6ACD' }}\n        >\n          <Plus className=\"w-4 h-4\" />\n          CREATE\n        </button>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"border-b border-gray-200\">\n        <nav className=\"flex space-x-8 px-6\">\n          <button\n            onClick={() => setProjectsTab('all')}\n            className={`py-4 px-1 border-b-2 font-medium text-sm ${\n              projectsTab === 'all'\n                ? 'border-blue-500 text-blue-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n          >\n            ALL\n          </button>\n          <button\n            onClick={() => setProjectsTab('archived')}\n            className={`py-4 px-1 border-b-2 font-medium text-sm ${\n              projectsTab === 'archived'\n                ? 'border-blue-500 text-blue-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n          >\n            ARCHIVED\n          </button>\n        </nav>\n      </div>\n\n      {/* Filters */}\n      <div className=\"px-6 py-4 bg-white border-b border-gray-200\">\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Filter className=\"w-4 h-4 text-gray-500\" />\n          <span className=\"text-sm font-medium text-gray-700\">Filters</span>\n        </div>\n        <div className=\"grid grid-cols-5 gap-4\">\n          <select\n            className=\"px-3 py-2 border border-gray-300 rounded text-sm\"\n            value={filters.status}\n            onChange={(e) => setFilters(prev => ({ ...prev, status: e.target.value }))}\n          >\n            <option value=\"\">All Statuses</option>\n            <option value=\"Planning\">Planning</option>\n            <option value=\"In Progress\">In Progress</option>\n            <option value=\"Completed\">Completed</option>\n          </select>\n          <select\n            className=\"px-3 py-2 border border-gray-300 rounded text-sm\"\n            value={filters.region}\n            onChange={(e) => setFilters(prev => ({ ...prev, region: e.target.value }))}\n          >\n            <option value=\"\">All Regions</option>\n            {regions.map(region => (\n              <option key={region} value={region}>{region}</option>\n            ))}\n          </select>\n          <select\n            className=\"px-3 py-2 border border-gray-300 rounded text-sm\"\n            value={filters.team}\n            onChange={(e) => setFilters(prev => ({ ...prev, team: e.target.value }))}\n          >\n            <option value=\"\">All Teams</option>\n            {teams.map(team => (\n              <option key={team} value={team}>{team}</option>\n            ))}\n          </select>\n          <select\n            className=\"px-3 py-2 border border-gray-300 rounded text-sm\"\n            value={filters.assetClass}\n            onChange={(e) => setFilters(prev => ({ ...prev, assetClass: e.target.value }))}\n          >\n            <option value=\"\">All Asset Classes</option>\n            <option value=\"Trees\">Trees</option>\n            <option value=\"Wetlands\">Wetlands</option>\n            <option value=\"Grass\">Grass</option>\n          </select>\n          <div className=\"relative\">\n            <Search className=\"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search projects...\"\n              className=\"pl-10 pr-3 py-2 border border-gray-300 rounded text-sm w-full\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Projects Table */}\n      <div className=\"bg-white\">\n        <table className=\"w-full\">\n          <thead className=\"bg-gray-50 border-b border-gray-200\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">PROJECT NAME</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">PROJECT ID</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">STATUS</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">REGION</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">TOTAL CAPITAL COST</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">COMPLETION</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">TEAM</th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"></th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {filteredProjects.map((project) => {\n              const totalBudget = project.actions.reduce((sum, action) => sum + action.cost, 0);\n              \n              return (\n                <tr key={project.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4\">\n                    <div\n                      onClick={() => {\n                        setSelectedProject(project);\n                        setCurrentView('project-detail');\n                      }}\n                      className=\"text-sm font-medium text-blue-600 hover:text-blue-800 cursor-pointer\"\n                    >\n                      {project.name}\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 text-sm text-gray-900\">{project.projectId}</td>\n                  <td className=\"px-6 py-4\">\n                    <span className={getStatusBadge(project.status)}>{project.status}</span>\n                  </td>\n                  <td className=\"px-6 py-4 text-sm text-gray-900\">{project.region}</td>\n                  <td className=\"px-6 py-4 text-sm text-gray-900\">${totalBudget.toLocaleString()}</td>\n                  <td className=\"px-6 py-4 text-sm text-gray-900\">{project.completion}%</td>\n                  <td className=\"px-6 py-4 text-sm text-gray-900\">{project.team}</td>\n                  <td className=\"px-6 py-4\">\n                    <div className=\"flex items-center gap-2\">\n                      <button\n                        onClick={() => openProjectModal(project)}\n                        className=\"text-gray-600 hover:text-gray-800\"\n                        title=\"Edit Project\"\n                      >\n                        <Edit className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n\n  const renderProjectDetail = () => {\n    const activeActions = selectedProject.actions.filter(action => action.status !== 'Completed' && action.status !== 'Archived');\n    const archivedActions = selectedProject.actions.filter(action => action.status === 'Completed' || action.status === 'Archived');\n    \n    return (\n      <div className=\"flex-1\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-200\">\n          <div className=\"flex items-center gap-4\">\n            <button\n              onClick={() => setCurrentView('projects')}\n              className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200\"\n            >\n               Back to Projects\n            </button>\n            <h1 className=\"text-2xl font-bold text-gray-900\">{selectedProject?.name}</h1>\n          </div>\n          <div className=\"flex gap-2\">\n            <button className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center gap-2\">\n              <Eye className=\"w-4 h-4\" />\n              View\n            </button>\n            <button\n              onClick={() => openProjectModal(selectedProject)}\n              className=\"px-4 py-2 text-white rounded-lg flex items-center gap-2\"\n              style={{ backgroundColor: '#5B6ACD' }}\n            >\n              <Edit className=\"w-4 h-4\" />\n              Edit\n            </button>\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"border-b border-gray-200\">\n          <nav className=\"flex space-x-8 px-6\">\n            <button\n              onClick={() => setProjectDetailTab('project')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                projectDetailTab === 'project'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              PROJECT\n            </button>\n            <button\n              onClick={() => setProjectDetailTab('actions')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                projectDetailTab === 'actions'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              ACTIONS\n            </button>\n            <button\n              onClick={() => setProjectDetailTab('archived-actions')}\n              className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                projectDetailTab === 'archived-actions'\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              ARCHIVED ACTIONS\n            </button>\n          </nav>\n        </div>\n\n        {/* Tab Content */}\n        <div className=\"p-6\">\n          {projectDetailTab === 'project' && (\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Basic Project Information</h3>\n              <div className=\"grid grid-cols-2 gap-6\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-500 mb-1\">PROJECT NAME</label>\n                  <p className=\"text-sm text-gray-900\">{selectedProject?.name}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-500 mb-1\">PROJECT ID</label>\n                  <p className=\"text-sm text-gray-900\">{selectedProject?.projectId}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-500 mb-1\">STATUS</label>\n                  <span className={getStatusBadge(selectedProject?.status)}>{selectedProject?.status}</span>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-500 mb-1\">REGION</label>\n                  <p className=\"text-sm text-gray-900\">{selectedProject?.region}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-500 mb-1\">TEAM</label>\n                  <p className=\"text-sm text-gray-900\">{selectedProject?.team}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-500 mb-1\">COMPLETION</label>\n                  <p className=\"text-sm text-gray-900\">{selectedProject?.completion}%</p>\n                </div>\n              </div>\n              <div className=\"mt-6\">\n                <label className=\"block text-sm font-medium text-gray-500 mb-1\">DESCRIPTION</label>\n                <p className=\"text-sm text-gray-900\">{selectedProject?.description}</p>\n              </div>\n            </div>\n          )}\n\n          {projectDetailTab === 'actions' && (\n            <div>\n              <div className=\"flex justify-between items-center mb-6\">\n                <h3 className=\"text-lg font-medium text-gray-900\">Active Actions ({activeActions.length})</h3>\n                <div className=\"flex gap-2\">\n                  <button \n                    onClick={() => setShowBulkActionModal(true)}\n                    className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center gap-2\"\n                  >\n                    <Users className=\"w-4 h-4\" />\n                    Bulk Add\n                  </button>\n                  <button\n                    onClick={() => openActionModal()}\n                    className=\"px-4 py-2 text-white rounded-lg flex items-center gap-2\"\n                    style={{ backgroundColor: '#5B6ACD' }}\n                  >\n                    <Plus className=\"w-4 h-4\" />\n                    Add Action\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden\">\n                <table className=\"w-full\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Action</th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Asset</th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Action Path</th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Due Date</th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Cost</th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\n                    {activeActions.map((action) => {\n                      const asset = assets.find(a => a.id === action.assetId);\n                      const effectiveDate = action.overrideDate || action.nextDue;\n                      \n                      return (\n                        <tr key={action.id} className=\"hover:bg-gray-50\">\n                          <td className=\"px-6 py-4 text-sm font-medium text-gray-900\">{action.name}</td>\n                          <td className=\"px-6 py-4 text-sm text-gray-900\">{asset?.id}</td>\n                          <td className=\"px-6 py-4 text-sm text-gray-900\">{action.actionPath}</td>\n                          <td className=\"px-6 py-4\">\n                            <select\n                              value={action.status}\n                              onChange={(e) => updateActionStatus(action.id, e.target.value)}\n                              className=\"text-sm border-gray-300 rounded\"\n                            >\n                              <option value=\"Open\">Open</option>\n                              <option value=\"In Progress\">In Progress</option>\n                              <option value=\"Completed\">Completed</option>\n                              <option value=\"Cancelled\">Cancelled</option>\n                            </select>\n                          </td>\n                          <td className=\"px-6 py-4 text-sm text-gray-900\">{effectiveDate}</td>\n                          <td className=\"px-6 py-4 text-sm text-gray-900\">${action.cost.toLocaleString()}</td>\n                          <td className=\"px-6 py-4\">\n                            <div className=\"flex items-center gap-2\">\n                              <button\n                                onClick={() => openActionModal(action)}\n                                className=\"text-gray-600 hover:text-gray-800\"\n                                title=\"Edit Action\"\n                              >\n                                <Edit className=\"w-4 h-4\" />\n                              </button>\n                              <button\n                                onClick={() => deleteAction(action.id)}\n                                className=\"text-red-600 hover:text-red-800\"\n                                title=\"Delete Action\"\n                              >\n                                <Trash2 className=\"w-4 h-4\" />\n                              </button>\n                            </div>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n\n          {projectDetailTab === 'archived-actions' && (\n            <div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-6\">Archived Actions ({archivedActions.length})</h3>\n              \n              <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden\">\n                <table className=\"w-full\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Action</th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Asset</th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Completed Date</th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Cost</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\n                    {archivedActions.map((action) => {\n                      const asset = assets.find(a => a.id === action.assetId);\n                      \n                      return (\n                        <tr key={action.id} className=\"hover:bg-gray-50 opacity-75\">\n                          <td className=\"px-6 py-4 text-sm font-medium text-gray-700\">{action.name}</td>\n                          <td className=\"px-6 py-4 text-sm text-gray-700\">{asset?.id}</td>\n                          <td className=\"px-6 py-4\">\n                            <span className={getStatusBadge(action.status)}>{action.status}</span>\n                          </td>\n                          <td className=\"px-6 py-4 text-sm text-gray-700\">{action.completedDate || 'N/A'}</td>\n                          <td className=\"px-6 py-4 text-sm text-gray-700\">${action.cost.toLocaleString()}</td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  const renderCapitalPlan = () => {\n    const generateReportData = () => {\n      const currentYear = new Date().getFullYear();\n      const years = Array.from({ length: 10 }, (_, i) => currentYear + i);\n      \n      return years.map(year => {\n        let actualSpend = 0;\n        let plannedSpend = 0;\n        \n        projects.forEach(project => {\n          project.actions.forEach(action => {\n            const actionDate = action.overrideDate || action.nextDue || action.completedDate;\n            if (actionDate) {\n              const actionYear = new Date(actionDate).getFullYear();\n              if (actionYear === year) {\n                if (action.status === 'Completed' && action.completedDate) {\n                  actualSpend += action.cost;\n                } else {\n                  plannedSpend += action.cost;\n                }\n              }\n            }\n          });\n        });\n        \n        return {\n          year,\n          actualSpend,\n          plannedSpend,\n          totalSpend: actualSpend + plannedSpend\n        };\n      });\n    };\n\n    const reportData = generateReportData();\n    const maxSpend = Math.max(...reportData.map(d => d.totalSpend));\n\n    return (\n      <div className=\"flex-1\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">Capital Plan</h1>\n        </div>\n\n        <div className=\"p-6\">\n          <div className=\"bg-white rounded-lg border border-gray-200 p-6 mb-6\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-medium text-gray-900\">10-Year Capital Expenditure Forecast</h3>\n              <div className=\"flex items-center gap-4 text-sm\">\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-3 h-3 bg-green-500 rounded\"></div>\n                  <span>Actual Spend</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-3 h-3 bg-blue-500 rounded\"></div>\n                  <span>Planned Spend</span>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Year</th>\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actual Spend</th>\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Planned Spend</th>\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Total</th>\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Visual</th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {reportData.map((row) => (\n                    <tr key={row.year} className=\"hover:bg-gray-50\">\n                      <td className=\"px-4 py-4 text-sm font-medium text-gray-900\">{row.year}</td>\n                      <td className=\"px-4 py-4 text-sm text-green-600 font-medium\">\n                        ${row.actualSpend.toLocaleString()}\n                      </td>\n                      <td className=\"px-4 py-4 text-sm text-blue-600 font-medium\">\n                        ${row.plannedSpend.toLocaleString()}\n                      </td>\n                      <td className=\"px-4 py-4 text-sm text-gray-900 font-medium\">\n                        ${row.totalSpend.toLocaleString()}\n                      </td>\n                      <td className=\"px-4 py-4\">\n                        <div className=\"flex w-full h-6 bg-gray-200 rounded\">\n                          {row.actualSpend > 0 && (\n                            <div \n                              className=\"bg-green-500 rounded-l\"\n                              style={{ width: `${maxSpend > 0 ? (row.actualSpend / maxSpend) * 100 : 0}%` }}\n                            ></div>\n                          )}\n                          {row.plannedSpend > 0 && (\n                            <div \n                              className=\"bg-blue-500 rounded-r\"\n                              style={{ width: `${maxSpend > 0 ? (row.plannedSpend / maxSpend) * 100 : 0}%` }}\n                            ></div>\n                          )}\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderActionModal = () => {\n    const filteredAssetsForAction = filteredAssets(assetSearchTerm);\n    const selectedAsset = assets.find(a => a.id === actionForm.assetId);\n    const assetType = selectedAsset ? assetTypes[selectedAsset.type] : null;\n    const previewName = generateActionName(\n      actionForm.actionPath.split(' > ').pop(), \n      actionForm.assetId, \n      actionForm.nextDue, \n      actionForm.overrideDate, \n      actionForm.recurrence\n    );\n    \n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n        <div className=\"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto\">\n          <h2 className=\"text-lg font-semibold mb-4\">\n            {editingAction ? 'Edit Action' : 'Add New Action'}\n          </h2>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Asset</label>\n              <div className=\"space-y-2\">\n                <div className=\"flex items-center gap-2\">\n                  <Search className=\"w-4 h-4 text-gray-400\" />\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search assets...\"\n                    className=\"flex-1 px-3 py-2 border rounded-lg text-sm\"\n                    value={assetSearchTerm}\n                    onChange={(e) => setAssetSearchTerm(e.target.value)}\n                  />\n                </div>\n                <select\n                  value={actionForm.assetId}\n                  onChange={(e) => setActionForm(prev => ({ ...prev, assetId: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  size={Math.min(filteredAssetsForAction.length + 1, 5)}\n                >\n                  <option value=\"\">Select an asset...</option>\n                  {filteredAssetsForAction.map(asset => (\n                    <option key={asset.id} value={asset.id}>\n                      {asset.id} - {asset.name} ({assetTypes[asset.type].name})\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Action</label>\n              <div className=\"space-y-2\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowActionSelector(true)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-left bg-white hover:bg-gray-50\"\n                >\n                  {actionForm.actionPath || 'Select action...'}\n                </button>\n                {actionForm.actionDetails && (\n                  <div className=\"text-xs text-gray-600 p-2 bg-gray-50 rounded\">\n                    {actionForm.actionDetails.description} - ${actionForm.actionDetails.cost}/{actionForm.actionDetails.unit}\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Next Due Date</label>\n                <input\n                  type=\"date\"\n                  value={actionForm.nextDue}\n                  onChange={(e) => setActionForm(prev => ({ ...prev, nextDue: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Override Date (Optional)</label>\n                <input\n                  type=\"date\"\n                  value={actionForm.overrideDate}\n                  onChange={(e) => setActionForm(prev => ({ ...prev, overrideDate: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"flex items-center gap-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={actionForm.recurrence}\n                  onChange={(e) => setActionForm(prev => ({ ...prev, recurrence: e.target.checked }))}\n                  className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                />\n                <span className=\"text-sm font-medium text-gray-700\">This action recurs (will generate for 10-year plan)</span>\n              </label>\n            </div>\n\n            {actionForm.recurrence && (\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Recurrence</label>\n                <div className=\"flex gap-2\">\n                  <span className=\"px-3 py-2 bg-gray-100 rounded-lg text-sm\">Every</span>\n                  <input\n                    type=\"number\"\n                    min=\"1\"\n                    value={actionForm.recurrenceValue}\n                    onChange={(e) => setActionForm(prev => ({ ...prev, recurrenceValue: parseInt(e.target.value) || 1 }))}\n                    className=\"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                  <select\n                    value={actionForm.recurrenceUnit}\n                    onChange={(e) => setActionForm(prev => ({ ...prev, recurrenceUnit: e.target.value }))}\n                    className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  >\n                    <option value=\"months\">months</option>\n                    <option value=\"years\">years</option>\n                  </select>\n                </div>\n              </div>\n            )}\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Asset Percentage</label>\n              <input\n                type=\"number\"\n                min=\"1\"\n                max=\"100\"\n                value={actionForm.assetPercentage}\n                onChange={(e) => setActionForm(prev => ({ ...prev, assetPercentage: parseInt(e.target.value) || 100 }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Enter percentage (1-100)\"\n              />\n              <div className=\"text-xs text-gray-500 mt-1\">\n                Percentage of asset size affected by this action\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Modeled Cost</label>\n                <div className=\"relative\">\n                  <DollarSign className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\n                  <input\n                    type=\"text\"\n                    value={actionForm.modeledCost.toLocaleString()}\n                    readOnly\n                    className=\"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg bg-gray-50\"\n                  />\n                </div>\n                <div className=\"text-xs text-gray-500 mt-1\">\n                  Auto-calculated based on asset size and percentage\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Override Cost (Optional)</label>\n                <div className=\"relative\">\n                  <DollarSign className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\n                  <input\n                    type=\"number\"\n                    value={actionForm.overrideCost}\n                    onChange={(e) => setActionForm(prev => ({ ...prev, overrideCost: e.target.value }))}\n                    className=\"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"Leave blank to use modeled cost\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {previewName && (\n              <div className=\"bg-blue-50 p-3 rounded-lg\">\n                <p className=\"text-sm text-blue-600 font-medium\">Action Preview:</p>\n                <p className=\"font-medium\">{previewName}</p>\n                <div className=\"text-sm text-gray-600 mt-1\">\n                  Final Cost: ${(actionForm.overrideCost ? parseInt(actionForm.overrideCost) : actionForm.modeledCost).toLocaleString()}\n                  {actionForm.overrideCost && (\n                    <span className=\"text-orange-600\"> (Override Applied)</span>\n                  )}\n                </div>\n                {actionForm.recurrence && (\n                  <div className=\"text-sm text-blue-600 mt-1\">\n                     Will generate recurring actions for 10-year capital plan\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n\n          <div className=\"flex justify-end gap-3 mt-6\">\n            <button\n              onClick={() => setShowActionModal(false)}\n              className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={saveAction}\n              disabled={!actionForm.assetId || !actionForm.actionPath || !actionForm.nextDue}\n              className=\"px-4 py-2 text-white rounded-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed\"\n              style={{ backgroundColor: '#5B6ACD' }}\n            >\n              {editingAction ? 'Update' : 'Add'} Action\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const openBulkActionModal = () => {\n    setBulkActionForm({\n      region: '',\n      assetType: '',\n      actionPath: '',\n      actionDetails: null,\n      recurrence: false,\n      recurrenceValue: 1,\n      recurrenceUnit: 'years',\n      nextDue: '',\n      overrideDate: '',\n      assetPercentage: 100,\n      overrideCost: ''\n    });\n    setShowBulkActionModal(true);\n  };\n\n  const saveBulkActions = () => {\n    if (!bulkActionForm.region || !bulkActionForm.assetType || !bulkActionForm.actionPath || !bulkActionForm.nextDue) {\n      alert('Please fill in all required fields');\n      return;\n    }\n\n    // Get asset class from asset type\n    const assetClass = Object.values(assetTypes).find(type => type.name === bulkActionForm.assetType)?.assetClass;\n    \n    // Filter assets by region and asset class\n    const matchingAssets = assets.filter(asset => {\n      const assetConfig = assetTypes[asset.type];\n      return asset.region === bulkActionForm.region && assetConfig?.assetClass === assetClass;\n    });\n\n    if (matchingAssets.length === 0) {\n      alert(`No assets found for region \"${bulkActionForm.region}\" and asset type \"${bulkActionForm.assetType}\"`);\n      return;\n    }\n\n    // Create actions for all matching assets\n    const newActions = [];\n    matchingAssets.forEach(asset => {\n      const modeledCost = calculateModeledCost(asset.id, bulkActionForm.actionDetails, bulkActionForm.assetPercentage);\n      const finalCost = bulkActionForm.overrideCost ? parseInt(bulkActionForm.overrideCost) : modeledCost;\n      \n      const baseAction = {\n        id: Date.now() + Math.random(),\n        name: generateActionName(\n          bulkActionForm.actionPath.split(' > ').pop(),\n          asset.id,\n          bulkActionForm.nextDue,\n          bulkActionForm.overrideDate,\n          bulkActionForm.recurrence\n        ),\n        assetId: asset.id,\n        actionPath: bulkActionForm.actionPath,\n        status: 'Open',\n        nextDue: bulkActionForm.nextDue,\n        overrideDate: bulkActionForm.overrideDate || null,\n        recurrence: bulkActionForm.recurrence,\n        recurrenceValue: bulkActionForm.recurrenceValue,\n        recurrenceUnit: bulkActionForm.recurrenceUnit,\n        assetPercentage: bulkActionForm.assetPercentage,\n        modeledCost,\n        overrideCost: bulkActionForm.overrideCost ? parseInt(bulkActionForm.overrideCost) : null,\n        cost: finalCost,\n        createdBy: 'current_user',\n        createdDate: new Date().toISOString(),\n        projectId: selectedProject.id\n      };\n\n      if (bulkActionForm.recurrence) {\n        newActions.push(...generateRecurringActions(baseAction, selectedProject));\n      } else {\n        newActions.push(baseAction);\n      }\n    });\n\n    // Update the selected project with new actions\n    setProjects(prev => prev.map(project => {\n      if (project.id === selectedProject.id) {\n        const updatedProject = {\n          ...project,\n          actions: [...project.actions, ...newActions]\n        };\n        setSelectedProject(updatedProject);\n        return updatedProject;\n      }\n      return project;\n    }));\n\n    // Add audit entries\n    newActions.forEach(action => {\n      addAuditEntry('action', action.id, 'created', null, action.name);\n    });\n\n    setShowBulkActionModal(false);\n    alert(`Successfully added ${newActions.length} actions to ${matchingAssets.length} assets`);\n  };\n\n  const renderBulkActionModal = () => {\n    // Get unique asset types grouped by asset class\n    const assetTypesByClass = {};\n    Object.entries(assetTypes).forEach(([code, config]) => {\n      if (!assetTypesByClass[config.assetClass]) {\n        assetTypesByClass[config.assetClass] = [];\n      }\n      assetTypesByClass[config.assetClass].push(config.name);\n    });\n\n    // Get unique asset types for dropdown\n    const uniqueAssetTypes = Array.from(new Set(Object.values(assetTypes).map(type => type.name)));\n\n    const previewName = generateActionName(\n      bulkActionForm.actionPath.split(' > ').pop(),\n      'BULK',\n      bulkActionForm.nextDue,\n      bulkActionForm.overrideDate,\n      bulkActionForm.recurrence\n    );\n\n    // Count matching assets for preview\n    const assetClass = Object.values(assetTypes).find(type => type.name === bulkActionForm.assetType)?.assetClass;\n    const matchingAssetsCount = assets.filter(asset => {\n      const assetConfig = assetTypes[asset.type];\n      return asset.region === bulkActionForm.region && assetConfig?.assetClass === assetClass;\n    }).length;\n\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n        <div className=\"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto\">\n          <h2 className=\"text-lg font-semibold mb-4\">Bulk Add Actions</h2>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Region *</label>\n              <select\n                value={bulkActionForm.region}\n                onChange={(e) => setBulkActionForm(prev => ({ ...prev, region: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"\">Select region...</option>\n                {regions.map(region => (\n                  <option key={region} value={region}>{region}</option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Asset Type *</label>\n              <select\n                value={bulkActionForm.assetType}\n                onChange={(e) => setBulkActionForm(prev => ({ ...prev, assetType: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"\">Select asset type...</option>\n                {uniqueAssetTypes.map(assetType => (\n                  <option key={assetType} value={assetType}>{assetType}</option>\n                ))}\n              </select>\n            </div>\n\n            {bulkActionForm.region && bulkActionForm.assetType && (\n              <div className=\"text-sm text-blue-600 bg-blue-50 p-3 rounded-lg\">\n                <Users className=\"w-4 h-4 inline mr-2\" />\n                This will apply to {matchingAssetsCount} asset{matchingAssetsCount !== 1 ? 's' : ''} in {bulkActionForm.region} region\n              </div>\n            )}\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Action *</label>\n              <div className=\"space-y-2\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowActionSelector(true)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-left bg-white hover:bg-gray-50\"\n                >\n                  {bulkActionForm.actionPath || 'Select action...'}\n                </button>\n                {bulkActionForm.actionDetails && (\n                  <div className=\"text-xs text-gray-600 p-2 bg-gray-50 rounded\">\n                    {bulkActionForm.actionDetails.description} - ${bulkActionForm.actionDetails.cost}/{bulkActionForm.actionDetails.unit}\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Next Due Date *</label>\n                <input\n                  type=\"date\"\n                  value={bulkActionForm.nextDue}\n                  onChange={(e) => setBulkActionForm(prev => ({ ...prev, nextDue: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Override Date (Optional)</label>\n                <input\n                  type=\"date\"\n                  value={bulkActionForm.overrideDate}\n                  onChange={(e) => setBulkActionForm(prev => ({ ...prev, overrideDate: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"flex items-center gap-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={bulkActionForm.recurrence}\n                  onChange={(e) => setBulkActionForm(prev => ({ ...prev, recurrence: e.target.checked }))}\n                  className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                />\n                <span className=\"text-sm font-medium text-gray-700\">This action recurs (will generate for 10-year plan)</span>\n              </label>\n            </div>\n\n            {bulkActionForm.recurrence && (\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Recurrence</label>\n                <div className=\"flex gap-2\">\n                  <span className=\"px-3 py-2 bg-gray-100 rounded-lg text-sm\">Every</span>\n                  <input\n                    type=\"number\"\n                    min=\"1\"\n                    value={bulkActionForm.recurrenceValue}\n                    onChange={(e) => setBulkActionForm(prev => ({ ...prev, recurrenceValue: parseInt(e.target.value) || 1 }))}\n                    className=\"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                  <select\n                    value={bulkActionForm.recurrenceUnit}\n                    onChange={(e) => setBulkActionForm(prev => ({ ...prev, recurrenceUnit: e.target.value }))}\n                    className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  >\n                    <option value=\"months\">months</option>\n                    <option value=\"years\">years</option>\n                  </select>\n                </div>\n              </div>\n            )}\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Asset Percentage</label>\n              <input\n                type=\"number\"\n                min=\"1\"\n                max=\"100\"\n                value={bulkActionForm.assetPercentage}\n                onChange={(e) => setBulkActionForm(prev => ({ ...prev, assetPercentage: parseInt(e.target.value) || 100 }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Enter percentage (1-100)\"\n              />\n              <div className=\"text-xs text-gray-500 mt-1\">\n                Percentage of asset size affected by this action\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Override Cost (Optional)</label>\n              <div className=\"relative\">\n                <DollarSign className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  value={bulkActionForm.overrideCost}\n                  onChange={(e) => setBulkActionForm(prev => ({ ...prev, overrideCost: e.target.value }))}\n                  className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  placeholder=\"Enter override cost\"\n                />\n              </div>\n              <div className=\"text-xs text-gray-500 mt-1\">\n                Leave empty to use calculated cost based on asset size\n              </div>\n            </div>\n\n            {previewName && (\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Preview Action Name</label>\n                <div className=\"px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-900\">\n                  {previewName.replace('BULK', '[ASSET_ID]')}\n                </div>\n              </div>\n            )}\n          </div>\n\n          <div className=\"flex justify-end gap-3 mt-6\">\n            <button\n              onClick={() => setShowBulkActionModal(false)}\n              className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={saveBulkActions}\n              disabled={!bulkActionForm.region || !bulkActionForm.assetType || !bulkActionForm.actionPath || !bulkActionForm.nextDue}\n              className=\"px-4 py-2 text-white rounded-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed\"\n              style={{ backgroundColor: '#5B6ACD' }}\n            >\n              Create Bulk Actions\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderProjectModal = () => (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto\">\n        <h2 className=\"text-lg font-semibold mb-4\">\n          {editingProject ? 'Edit Project' : 'Add New Project'}\n        </h2>\n        \n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Project Name</label>\n            <input\n              type=\"text\"\n              value={projectForm.name}\n              onChange={(e) => setProjectForm(prev => ({ ...prev, name: e.target.value }))}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              placeholder=\"Enter project name\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n            <textarea\n              value={projectForm.description}\n              onChange={(e) => setProjectForm(prev => ({ ...prev, description: e.target.value }))}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              rows={3}\n              placeholder=\"Enter project description\"\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Status</label>\n              <select\n                value={projectForm.status}\n                onChange={(e) => setProjectForm(prev => ({ ...prev, status: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"Planning\">Planning</option>\n                <option value=\"In Progress\">In Progress</option>\n                <option value=\"Completed\">Completed</option>\n                <option value=\"Cancelled\">Cancelled</option>\n                <option value=\"Archived\">Archived</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Team</label>\n              <select\n                value={projectForm.team}\n                onChange={(e) => setProjectForm(prev => ({ ...prev, team: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"\">Select team...</option>\n                {teams.map(team => (\n                  <option key={team} value={team}>{team}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Region</label>\n            <select\n              value={projectForm.region}\n              onChange={(e) => setProjectForm(prev => ({ ...prev, region: e.target.value }))}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"\">Select region...</option>\n              {regions.map(region => (\n                <option key={region} value={region}>{region}</option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Start Date</label>\n              <input\n                type=\"date\"\n                value={projectForm.startDate}\n                onChange={(e) => setProjectForm(prev => ({ ...prev, startDate: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">End Date</label>\n              <input\n                type=\"date\"\n                value={projectForm.endDate}\n                onChange={(e) => setProjectForm(prev => ({ ...prev, endDate: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex justify-end gap-3 mt-6\">\n          <button\n            onClick={() => setShowProjectModal(false)}\n            className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={saveProject}\n            disabled={!projectForm.name || !projectForm.team || !projectForm.region}\n            className=\"px-4 py-2 text-white rounded-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed\"\n            style={{ backgroundColor: '#5B6ACD' }}\n          >\n            {editingProject ? 'Update' : 'Create'} Project\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading data...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"text-center text-red-600\">\n          <AlertCircle className=\"w-12 h-12 mx-auto mb-4\" />\n          <p className=\"text-lg font-semibold mb-2\">Error Loading Data</p>\n          <p>{error}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex h-screen bg-gray-50\">\n      {renderSidebar()}\n      {currentView === 'projects' && renderProjectsList()}\n      {currentView === 'project-detail' && renderProjectDetail()}\n      {currentView === 'capital-plan' && renderCapitalPlan()}\n      {currentView === 'assets' && <div className=\"flex-1 p-6\">Assets view coming soon...</div>}\n      {currentView === 'reporting' && <div className=\"flex-1 p-6\">Reporting view coming soon...</div>}\n      {showActionModal && renderActionModal()}\n      {showBulkActionModal && renderBulkActionModal()}\n      {showProjectModal && renderProjectModal()}\n      {showActionSelector && renderActionSelector()}\n    </div>\n  );\n};\n\nexport default ProjectsActionsModule;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}